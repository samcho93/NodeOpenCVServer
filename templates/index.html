<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SamOpenCVWeb - Visual OpenCV Editor</title>
    <link rel="stylesheet" href="/static/style.css">
    <!-- CodeMirror for inline Python editor -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/monokai.min.css">
</head>
<body>
    <!-- Top Toolbar -->
    <div id="toolbar">
        <div class="toolbar-left">
            <span class="logo">SamOpenCVWeb</span>
            <button id="btn-execute" title="Execute Pipeline (Ctrl+Enter)">&#9654; Execute</button>
            <button id="btn-stop-video" title="Stop Video Loop" style="display:none;background:#f38ba8;color:#1e1e2e" onclick="window._stopVideoLoop()">&#9632; Stop</button>
            <button id="btn-clear" title="Clear All">&#128465; Clear</button>
            <button id="btn-save" title="Save Flow">&#128190; Save</button>
            <button id="btn-load" title="Load Flow">&#128194; Load</button>
            <button id="btn-generate" title="Generate Python Code">&#128196; Code</button>
        </div>
        <div class="toolbar-right">
            <span id="zoom-display">100%</span>
            <button id="btn-help" title="Help">? Help</button>
        </div>
    </div>

    <div id="main-container">
        <!-- Left Sidebar: Node Palette -->
        <div id="node-palette">
            <div class="panel-header-bar">
                <h3>Node Palette</h3>
                <button id="btn-toggle-palette" class="panel-toggle-btn" title="Hide Palette">&#9664;</button>
            </div>

            <div class="palette-category" data-category="io">
                <div class="category-header">&#128247; Input / Output</div>
                <div class="category-body">
                    <div class="palette-node" data-type="image_read" draggable="true">
                        <span class="node-color" style="background:#4CAF50"></span>Image Read
                    </div>
                    <div class="palette-node" data-type="image_show" draggable="true">
                        <span class="node-color" style="background:#2196F3"></span>Image Show
                    </div>
                    <div class="palette-node" data-type="image_write" draggable="true">
                        <span class="node-color" style="background:#8BC34A"></span>Image Write
                    </div>
                    <div class="palette-node" data-type="video_read" draggable="true">
                        <span class="node-color" style="background:#FF5722"></span>Video Read
                    </div>
                    <div class="palette-node" data-type="camera_capture" draggable="true">
                        <span class="node-color" style="background:#FF5722"></span>Camera Capture
                    </div>
                    <div class="palette-node" data-type="video_write" draggable="true">
                        <span class="node-color" style="background:#8BC34A"></span>Video Write
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="color">
                <div class="category-header">&#127912; Color</div>
                <div class="category-body">
                    <div class="palette-node" data-type="cvt_color" draggable="true">
                        <span class="node-color" style="background:#9C27B0"></span>CvtColor
                    </div>
                    <div class="palette-node" data-type="in_range" draggable="true">
                        <span class="node-color" style="background:#E91E63"></span>InRange
                    </div>
                    <div class="palette-node" data-type="histogram_eq" draggable="true">
                        <span class="node-color" style="background:#673AB7"></span>Histogram EQ
                    </div>
                    <div class="palette-node" data-type="split_channels" draggable="true">
                        <span class="node-color" style="background:#9C27B0"></span>Split Channels
                    </div>
                    <div class="palette-node" data-type="merge_channels" draggable="true">
                        <span class="node-color" style="background:#9C27B0"></span>Merge Channels
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="filter">
                <div class="category-header">&#128300; Filter / Blur</div>
                <div class="category-body">
                    <div class="palette-node" data-type="gaussian_blur" draggable="true">
                        <span class="node-color" style="background:#FF9800"></span>Gaussian Blur
                    </div>
                    <div class="palette-node" data-type="median_blur" draggable="true">
                        <span class="node-color" style="background:#FF9800"></span>Median Blur
                    </div>
                    <div class="palette-node" data-type="bilateral_filter" draggable="true">
                        <span class="node-color" style="background:#FF9800"></span>Bilateral Filter
                    </div>
                    <div class="palette-node" data-type="box_filter" draggable="true">
                        <span class="node-color" style="background:#FF9800"></span>Box Filter
                    </div>
                    <div class="palette-node" data-type="sharpen" draggable="true">
                        <span class="node-color" style="background:#FF9800"></span>Sharpen
                    </div>
                    <div class="palette-node" data-type="filter2d" draggable="true">
                        <span class="node-color" style="background:#FF9800"></span>Filter2D
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="edge">
                <div class="category-header">&#9889; Edge Detection</div>
                <div class="category-body">
                    <div class="palette-node" data-type="canny" draggable="true">
                        <span class="node-color" style="background:#F44336"></span>Canny
                    </div>
                    <div class="palette-node" data-type="sobel" draggable="true">
                        <span class="node-color" style="background:#F44336"></span>Sobel
                    </div>
                    <div class="palette-node" data-type="laplacian" draggable="true">
                        <span class="node-color" style="background:#F44336"></span>Laplacian
                    </div>
                    <div class="palette-node" data-type="scharr" draggable="true">
                        <span class="node-color" style="background:#F44336"></span>Scharr
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="threshold">
                <div class="category-header">&#9632; Threshold</div>
                <div class="category-body">
                    <div class="palette-node" data-type="threshold" draggable="true">
                        <span class="node-color" style="background:#795548"></span>Threshold
                    </div>
                    <div class="palette-node" data-type="adaptive_threshold" draggable="true">
                        <span class="node-color" style="background:#795548"></span>Adaptive Threshold
                    </div>
                    <div class="palette-node" data-type="otsu_threshold" draggable="true">
                        <span class="node-color" style="background:#795548"></span>Otsu Threshold
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="morph">
                <div class="category-header">&#9881; Morphology</div>
                <div class="category-body">
                    <div class="palette-node" data-type="morphology" draggable="true">
                        <span class="node-color" style="background:#607D8B"></span>Morphology Ex
                    </div>
                    <div class="palette-node" data-type="dilate" draggable="true">
                        <span class="node-color" style="background:#607D8B"></span>Dilate
                    </div>
                    <div class="palette-node" data-type="erode" draggable="true">
                        <span class="node-color" style="background:#607D8B"></span>Erode
                    </div>
                    <div class="palette-node" data-type="structuring_element" draggable="true">
                        <span class="node-color" style="background:#607D8B"></span>Structuring Element
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="contour">
                <div class="category-header">&#128736; Contour</div>
                <div class="category-body">
                    <div class="palette-node" data-type="find_contours" draggable="true">
                        <span class="node-color" style="background:#009688"></span>Find Contours
                    </div>
                    <div class="palette-node" data-type="draw_contours" draggable="true">
                        <span class="node-color" style="background:#009688"></span>Draw Contours
                    </div>
                    <div class="palette-node" data-type="bounding_rect" draggable="true">
                        <span class="node-color" style="background:#009688"></span>Bounding Rect
                    </div>
                    <div class="palette-node" data-type="min_enclosing_circle" draggable="true">
                        <span class="node-color" style="background:#009688"></span>Min Enclosing Circle
                    </div>
                    <div class="palette-node" data-type="convex_hull" draggable="true">
                        <span class="node-color" style="background:#009688"></span>Convex Hull
                    </div>
                    <div class="palette-node" data-type="approx_poly" draggable="true">
                        <span class="node-color" style="background:#009688"></span>Approx Poly
                    </div>
                    <div class="palette-node" data-type="contour_area" draggable="true">
                        <span class="node-color" style="background:#009688"></span>Contour Area
                    </div>
                    <div class="palette-node" data-type="contour_properties" draggable="true">
                        <span class="node-color" style="background:#009688"></span>Contour Properties
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="transform">
                <div class="category-header">&#128260; Transform</div>
                <div class="category-body">
                    <div class="palette-node" data-type="resize" draggable="true">
                        <span class="node-color" style="background:#00BCD4"></span>Resize
                    </div>
                    <div class="palette-node" data-type="rotate" draggable="true">
                        <span class="node-color" style="background:#00BCD4"></span>Rotate
                    </div>
                    <div class="palette-node" data-type="flip" draggable="true">
                        <span class="node-color" style="background:#00BCD4"></span>Flip
                    </div>
                    <div class="palette-node" data-type="crop" draggable="true">
                        <span class="node-color" style="background:#00BCD4"></span>Crop
                    </div>
                    <div class="palette-node" data-type="paste_image" draggable="true">
                        <span class="node-color" style="background:#00BCD4"></span>Paste Image
                    </div>
                    <div class="palette-node" data-type="warp_affine" draggable="true">
                        <span class="node-color" style="background:#00BCD4"></span>Warp Affine
                    </div>
                    <div class="palette-node" data-type="warp_perspective" draggable="true">
                        <span class="node-color" style="background:#00BCD4"></span>Warp Perspective
                    </div>
                    <div class="palette-node" data-type="remap" draggable="true">
                        <span class="node-color" style="background:#00BCD4"></span>Remap
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="histogram">
                <div class="category-header">&#128202; Histogram</div>
                <div class="category-body">
                    <div class="palette-node" data-type="calc_histogram" draggable="true">
                        <span class="node-color" style="background:#673AB7"></span>Calc Histogram
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="feature">
                <div class="category-header">&#128270; Feature Detection</div>
                <div class="category-body">
                    <div class="palette-node" data-type="hough_lines" draggable="true">
                        <span class="node-color" style="background:#CDDC39"></span>Hough Lines
                    </div>
                    <div class="palette-node" data-type="harris_corner" draggable="true">
                        <span class="node-color" style="background:#CDDC39"></span>Harris Corner
                    </div>
                    <div class="palette-node" data-type="good_features" draggable="true">
                        <span class="node-color" style="background:#CDDC39"></span>Good Features
                    </div>
                    <div class="palette-node" data-type="orb_features" draggable="true">
                        <span class="node-color" style="background:#CDDC39"></span>ORB
                    </div>
                    <div class="palette-node" data-type="fast_features" draggable="true">
                        <span class="node-color" style="background:#CDDC39"></span>FAST
                    </div>
                    <div class="palette-node" data-type="match_features" draggable="true">
                        <span class="node-color" style="background:#CDDC39"></span>Match Features
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="drawing">
                <div class="category-header">&#9999; Drawing</div>
                <div class="category-body">
                    <div class="palette-node" data-type="draw_line" draggable="true">
                        <span class="node-color" style="background:#E91E63"></span>Draw Line
                    </div>
                    <div class="palette-node" data-type="draw_rectangle" draggable="true">
                        <span class="node-color" style="background:#E91E63"></span>Draw Rectangle
                    </div>
                    <div class="palette-node" data-type="draw_circle" draggable="true">
                        <span class="node-color" style="background:#E91E63"></span>Draw Circle
                    </div>
                    <div class="palette-node" data-type="draw_ellipse" draggable="true">
                        <span class="node-color" style="background:#E91E63"></span>Draw Ellipse
                    </div>
                    <div class="palette-node" data-type="draw_text" draggable="true">
                        <span class="node-color" style="background:#E91E63"></span>Draw Text
                    </div>
                    <div class="palette-node" data-type="draw_polylines" draggable="true">
                        <span class="node-color" style="background:#E91E63"></span>Draw Polylines
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="arithmetic">
                <div class="category-header">&#10133; Arithmetic</div>
                <div class="category-body">
                    <div class="palette-node" data-type="add" draggable="true">
                        <span class="node-color" style="background:#3F51B5"></span>Add
                    </div>
                    <div class="palette-node" data-type="subtract" draggable="true">
                        <span class="node-color" style="background:#3F51B5"></span>Subtract
                    </div>
                    <div class="palette-node" data-type="multiply" draggable="true">
                        <span class="node-color" style="background:#3F51B5"></span>Multiply
                    </div>
                    <div class="palette-node" data-type="absdiff" draggable="true">
                        <span class="node-color" style="background:#3F51B5"></span>AbsDiff
                    </div>
                    <div class="palette-node" data-type="add_weighted" draggable="true">
                        <span class="node-color" style="background:#3F51B5"></span>Add Weighted
                    </div>
                    <div class="palette-node" data-type="bitwise_and" draggable="true">
                        <span class="node-color" style="background:#3F51B5"></span>Bitwise AND
                    </div>
                    <div class="palette-node" data-type="bitwise_or" draggable="true">
                        <span class="node-color" style="background:#3F51B5"></span>Bitwise OR
                    </div>
                    <div class="palette-node" data-type="bitwise_xor" draggable="true">
                        <span class="node-color" style="background:#3F51B5"></span>Bitwise XOR
                    </div>
                    <div class="palette-node" data-type="bitwise_not" draggable="true">
                        <span class="node-color" style="background:#3F51B5"></span>Bitwise NOT
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="detection">
                <div class="category-header">&#128065; Detection</div>
                <div class="category-body">
                    <div class="palette-node" data-type="haar_cascade" draggable="true">
                        <span class="node-color" style="background:#FF5722"></span>Haar Cascade
                    </div>
                    <div class="palette-node" data-type="hough_circles" draggable="true">
                        <span class="node-color" style="background:#FF5722"></span>Hough Circles
                    </div>
                    <div class="palette-node" data-type="template_match" draggable="true">
                        <span class="node-color" style="background:#FF5722"></span>Template Match
                    </div>
                    <div class="palette-node" data-type="image_extract" draggable="true">
                        <span class="node-color" style="background:#FF5722"></span>Image Extract
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="segmentation">
                <div class="category-header">&#128200; Segmentation</div>
                <div class="category-body">
                    <div class="palette-node" data-type="flood_fill" draggable="true">
                        <span class="node-color" style="background:#795548"></span>Flood Fill
                    </div>
                    <div class="palette-node" data-type="grabcut" draggable="true">
                        <span class="node-color" style="background:#795548"></span>GrabCut
                    </div>
                    <div class="palette-node" data-type="watershed" draggable="true">
                        <span class="node-color" style="background:#795548"></span>Watershed
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="value">
                <div class="category-header">&#128290; Value</div>
                <div class="category-body">
                    <div class="palette-node" data-type="val_integer" draggable="true">
                        <span class="node-color" style="background:#78909C"></span>Integer
                    </div>
                    <div class="palette-node" data-type="val_float" draggable="true">
                        <span class="node-color" style="background:#78909C"></span>Float
                    </div>
                    <div class="palette-node" data-type="val_boolean" draggable="true">
                        <span class="node-color" style="background:#78909C"></span>Boolean
                    </div>
                    <div class="palette-node" data-type="val_point" draggable="true">
                        <span class="node-color" style="background:#78909C"></span>Point
                    </div>
                    <div class="palette-node" data-type="val_scalar" draggable="true">
                        <span class="node-color" style="background:#78909C"></span>Scalar
                    </div>
                    <div class="palette-node" data-type="val_math" draggable="true">
                        <span class="node-color" style="background:#78909C"></span>Math Operation
                    </div>
                    <div class="palette-node" data-type="val_list" draggable="true">
                        <span class="node-color" style="background:#78909C"></span>List Index/Slice
                    </div>
                    <div class="palette-node" data-type="val_coords" draggable="true">
                        <span class="node-color" style="background:#78909C"></span>Coords
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="control">
                <div class="category-header">&#128260; Control Flow</div>
                <div class="category-body">
                    <div class="palette-node" data-type="control_if" draggable="true">
                        <span class="node-color" style="background:#26A69A"></span>If
                    </div>
                    <div class="palette-node" data-type="control_for" draggable="true">
                        <span class="node-color" style="background:#26A69A"></span>For Loop
                    </div>
                    <div class="palette-node" data-type="control_while" draggable="true">
                        <span class="node-color" style="background:#26A69A"></span>While Loop
                    </div>
                    <div class="palette-node" data-type="control_switch" draggable="true">
                        <span class="node-color" style="background:#26A69A"></span>Switch-Case
                    </div>
                </div>
            </div>

            <div class="palette-category" data-category="script">
                <div class="category-header">&#128187; Script</div>
                <div class="category-body">
                    <div class="palette-node" data-type="python_script" draggable="true">
                        <span class="node-color" style="background:#FFC107"></span>Python Script
                    </div>
                </div>
            </div>
        </div>

        <!-- Center: Canvas Area -->
        <div id="canvas-container">
            <canvas id="node-canvas"></canvas>
        </div>

        <!-- Right Sidebar: Properties + Preview + Docs -->
        <div id="right-panel">
            <div class="panel-header-bar right-header">
                <button id="btn-toggle-right" class="panel-toggle-btn" title="Hide Panel">&#9654;</button>
                <span class="panel-header-title">Properties</span>
            </div>
            <div id="right-panel-content">
            <div id="properties-panel">
                <h3>Properties</h3>
                <div id="prop-content">
                    <p class="hint">Click a node to edit its properties</p>
                </div>
            </div>
            <div id="preview-panel">
                <h3>Preview</h3>
                <div id="preview-content">
                    <p class="hint">Execute pipeline to see results</p>
                </div>
            </div>
            <div id="docs-panel">
                <h3>Function Reference</h3>
                <div id="docs-content">
                    <p class="hint">Click a node to see OpenCV function documentation</p>
                </div>
            </div>
            </div>
        </div>
    </div>

    <!-- Code Generation Modal -->
    <div id="code-overlay" class="help-overlay" style="display:none;">
        <div class="help-modal" style="width:720px;">
            <div class="help-header">
                <h2>Generated Python Code</h2>
                <div style="display:flex;gap:6px;">
                    <button id="code-copy-btn" class="prop-btn primary" title="Copy to Clipboard">Copy</button>
                    <button id="code-download-btn" class="prop-btn" title="Download .py file">Download</button>
                    <button id="code-close-btn" class="help-close-btn" title="Close">&times;</button>
                </div>
            </div>
            <div class="help-body">
                <pre id="code-output" class="generated-code"></pre>
            </div>
        </div>
    </div>

    <!-- Help Modal -->
    <div id="help-overlay" class="help-overlay" style="display:none;">
        <div class="help-modal">
            <div class="help-header">
                <h2>SamOpenCVWeb Help</h2>
                <button id="help-close-btn" class="help-close-btn" title="Close">&times;</button>
            </div>
            <div class="help-tabs">
                <button class="help-tab active" data-tab="guide">Quick Start</button>
                <button class="help-tab" data-tab="tutorial">Tutorial</button>
                <button class="help-tab" data-tab="shortcuts">Keyboard &amp; Mouse</button>
                <button class="help-tab" data-tab="nodes">Node Reference</button>
                <button class="help-tab" data-tab="architecture">Program Structure</button>
            </div>
            <div class="help-body">

                <!-- Quick Start Guide -->
                <div class="help-content active" data-tab="guide">
                    <h3>SamOpenCVWeb</h3>
                    <p>Node-RED style visual programming tool for OpenCV image processing.<br>
                       Drag nodes, connect wires, execute pipelines.</p>

                    <div class="help-section">
                        <h4>1. Basic Workflow</h4>
                        <div class="help-steps">
                            <div class="help-step">
                                <span class="step-num">1</span>
                                <div><strong>Add Nodes</strong><br>Drag nodes from the left Node Palette onto the canvas.</div>
                            </div>
                            <div class="help-step">
                                <span class="step-num">2</span>
                                <div><strong>Load Image</strong><br>Click an <em>Image Read</em> node, then use the file upload in Properties (right panel).</div>
                            </div>
                            <div class="help-step">
                                <span class="step-num">3</span>
                                <div><strong>Connect Nodes</strong><br>Drag from an output port (right side) to an input port (left side) of another node.</div>
                            </div>
                            <div class="help-step">
                                <span class="step-num">4</span>
                                <div><strong>Set Properties</strong><br>Click a node to see/edit its parameters in the Properties panel.</div>
                            </div>
                            <div class="help-step">
                                <span class="step-num">5</span>
                                <div><strong>Execute</strong><br>Click <em>Execute</em> (or Ctrl+Enter) to run the full pipeline.</div>
                            </div>
                            <div class="help-step">
                                <span class="step-num">6</span>
                                <div><strong>View Results</strong><br>Preview panel shows each node's result. <em>Image Show</em> nodes open a popup automatically.</div>
                            </div>
                        </div>
                    </div>

                    <div class="help-section">
                        <h4>2. Ports &amp; Connections</h4>
                        <ul>
                            <li><strong>Input ports</strong> (left side of node) receive data from other nodes.</li>
                            <li><strong>Output ports</strong> (right side of node) send data to other nodes.</li>
                            <li>A filled port circle means it is connected.</li>
                            <li>Click a connection wire to delete it.</li>
                            <li>Each input port accepts only one connection.</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4>3. Preview &amp; Image Show</h4>
                        <ul>
                            <li>Click a node, then click <em>Preview</em> to see its output without running the full pipeline.</li>
                            <li>Double-click the preview image to enlarge.</li>
                            <li><em>Image Show</em> nodes automatically open a full-screen popup when executed.</li>
                            <li><em>Image Show</em> also has an output port, so you can chain after it.</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4>4. Python Script Node</h4>
                        <ul>
                            <li>Write custom OpenCV code using <code>img_input</code> (input image) and <code>img_output</code> (result image).</li>
                            <li><code>cv2</code> and <code>np</code> (NumPy) are available.</li>
                            <li>Use <em>VS Code</em> or <em>Notepad</em> buttons to open the script in an external editor.</li>
                            <li>After editing externally, click <em>Reload</em> to apply changes.</li>
                        </ul>
                        <div class="help-code">
# Example: Convert to grayscale and apply edge detection
gray = cv2.cvtColor(img_input, cv2.COLOR_BGR2GRAY)
edges = cv2.Canny(gray, 50, 150)
img_output = cv2.cvtColor(edges, cv2.COLOR_GRAY2BGR)</div>
                    </div>

                    <div class="help-section">
                        <h4>5. Control Flow Nodes</h4>
                        <ul>
                            <li><strong>If</strong>: Evaluates a condition and routes the image to the <em>true</em> or <em>false</em> output port.</li>
                            <li><strong>For Loop</strong>: Applies an operation N times (e.g., repeated blur or erosion).</li>
                            <li><strong>While Loop</strong>: Repeats an operation while a condition is true (with safety max iterations).</li>
                            <li><strong>Switch-Case</strong>: Routes the image to one of 3 output ports based on a condition (channels, depth, size, etc.).</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4>6. Code Generation</h4>
                        <ul>
                            <li>Click <em>Code</em> in the toolbar to convert the current node graph into standalone Python code.</li>
                            <li>The generated code uses only <code>cv2</code> and <code>numpy</code>.</li>
                            <li>Use <em>Copy</em> to copy to clipboard or <em>Download</em> to save as .py file.</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4>7. Save &amp; Load</h4>
                        <ul>
                            <li><em>Save</em>: 이미지가 포함된 경우 ZIP 프로젝트 파일로 저장 (flow.json + images/ 폴더). 이미지가 없으면 JSON으로 저장.</li>
                            <li><em>Load</em>: ZIP 프로젝트 파일 또는 JSON 파일을 불러옵니다. ZIP의 경우 이미지도 함께 복원되어 프리뷰가 표시됩니다.</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4>8. Panel Toggle</h4>
                        <ul>
                            <li>Use the arrow buttons on the palette/properties headers to collapse/expand panels.</li>
                            <li>Collapse panels to get a wider canvas workspace.</li>
                        </ul>
                    </div>
                </div>

                <!-- Tutorial -->
                <div class="help-content" data-tab="tutorial">
                    <h3>Step-by-Step Tutorials</h3>
                    <p style="color:#a6adc8; margin-bottom:16px;">Learn SamOpenCVWeb through practical examples. Follow each tutorial from start to finish.</p>

                    <!-- Tutorial 1 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 1: First Image Processing &mdash; Grayscale &amp; Edge Detection</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Load an image, convert to grayscale, apply Canny edge detection, and view the result.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Image Read node</strong>
                                    <p>From the left palette, drag <em>Image Read</em> (I/O category) onto the canvas.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Upload an image</strong>
                                    <p>Click the Image Read node to select it. In the right Properties panel, click <em>Upload Image</em> to select a file.<br>
                                    <span class="tutorial-tip">&#128161; Tip: You can also double-click the node to open the file dialog directly!</span></p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Add CvtColor node</strong>
                                    <p>Drag <em>CvtColor</em> (Color category) onto the canvas, to the right of Image Read.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>Connect the nodes</strong>
                                    <p>Drag from Image Read's <em>output port</em> (right side, small circle) to CvtColor's <em>input port</em> (left side).<br>
                                    A curved wire appears, connecting them.<br>
                                    <span class="tutorial-tip">&#128161; Tip: If you drag a node close to another node (within 1 grid), ports auto-connect!</span></p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 5</div>
                                <div class="tutorial-step-body">
                                    <strong>Set CvtColor to Grayscale</strong>
                                    <p>Click the CvtColor node. In Properties, set <em>Conversion</em> to <code>COLOR_BGR2GRAY</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 6</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Canny Edge node</strong>
                                    <p>Drag <em>Canny</em> (Edge Detection category) onto the canvas. Connect CvtColor's output to Canny's input.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 7</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Image Show node</strong>
                                    <p>Drag <em>Image Show</em> (I/O category) and connect Canny's output to its input.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 8</div>
                                <div class="tutorial-step-body">
                                    <strong>Execute!</strong>
                                    <p>Click the <em>Execute</em> button in the toolbar (or press <kbd>Ctrl+Enter</kbd>).<br>
                                    The Image Show popup will display your edge-detected image!</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor<small>BGR2GRAY</small></span><span class="ta">→</span><span class="tn" style="--c:#F44336">Canny</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Click the Canny node and change <em>Threshold1</em> / <em>Threshold2</em> values. The preview updates automatically when you change properties!
                        </div>
                    </div>

                    <!-- Tutorial 2 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 2: Blur &amp; Threshold &mdash; Creating a Binary Mask</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Smooth an image, then apply thresholding to create a black-and-white binary image.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Create the input pipeline</strong>
                                    <p>Add <em>Image Read</em> &rarr; <em>CvtColor</em> (BGR2GRAY) as in Tutorial 1. Upload an image.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Gaussian Blur</strong>
                                    <p>Drag <em>Gaussian Blur</em> (Filter category). Connect CvtColor &rarr; Gaussian Blur.<br>
                                    Set <em>Kernel Size</em> to <code>5</code>. This smooths out noise before thresholding.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Threshold node</strong>
                                    <p>Drag <em>Threshold</em> (Threshold category). Connect Gaussian Blur &rarr; Threshold.<br>
                                    Set <em>Type</em> to <code>THRESH_BINARY</code> and <em>Threshold</em> value to <code>128</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>View the result</strong>
                                    <p>Add <em>Image Show</em> and connect. Execute with <kbd>Ctrl+Enter</kbd>.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor<small>BGR2GRAY</small></span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Gaussian Blur<small>k=5</small></span><span class="ta">→</span><span class="tn" style="--c:#795548">Threshold<small>128</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Switch Threshold type to <code>THRESH_OTSU</code> for automatic threshold. Compare results by double-clicking each node to preview!
                        </div>
                    </div>

                    <!-- Tutorial 3 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 3: Morphology Operations &mdash; Clean Up a Binary Image</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Use morphological operations (Open/Close) to remove noise from a binary image.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Start from Tutorial 2</strong>
                                    <p>Use the same pipeline: Image Read &rarr; CvtColor &rarr; Gaussian Blur &rarr; Threshold.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Morphology Ex node</strong>
                                    <p>Drag <em>Morphology Ex</em> (Morphology category). Connect Threshold &rarr; Morphology Ex.<br>
                                    Set <em>Operation</em> to <code>MORPH_OPEN</code> (removes small white noise). Set <em>Kernel Size</em> to <code>5</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Add another Morphology Ex for Close</strong>
                                    <p>Add a second <em>Morphology Ex</em>. Connect the first Morphology &rarr; second Morphology.<br>
                                    Set <em>Operation</em> to <code>MORPH_CLOSE</code> (fills small holes). Kernel Size <code>5</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>Execute and compare</strong>
                                    <p>Add Image Show. Double-click the Threshold node to preview before morphology, then double-click the final Morphology node to compare.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor<small>GRAY</small></span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Blur</span><span class="ta">→</span><span class="tn" style="--c:#795548">Threshold</span><span class="ta">→</span><span class="tn" style="--c:#607D8B">Morphology<small>Open</small></span><span class="ta">→</span><span class="tn" style="--c:#607D8B">Morphology<small>Close</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                    </div>

                    <!-- Tutorial 4 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 4: Contour Detection &mdash; Finding Object Outlines</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect contours from a binary image and draw bounding rectangles.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Prepare a binary image</strong>
                                    <p>Use the pipeline from Tutorial 2/3 to create a clean binary image. You need:<br>
                                    Image Read &rarr; CvtColor (GRAY) &rarr; Gaussian Blur &rarr; Threshold</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Draw Contours node</strong>
                                    <p>Drag <em>Draw Contours</em> (Contour category). It needs the original color image too!<br>
                                    Connect Threshold output &rarr; Draw Contours input.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Bounding Rect node</strong>
                                    <p>Drag <em>Bounding Rect</em> (Contour category). Connect Threshold &rarr; Bounding Rect.<br>
                                    This draws rectangles around each detected contour.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>View results</strong>
                                    <p>Add <em>Image Show</em> nodes after both. Execute and compare contours vs bounding rectangles.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Adjust <em>Min Area</em> in Bounding Rect to filter out small noise contours!</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Blur</span><span class="ta">→</span><span class="tn" style="--c:#795548">Threshold</span><span class="ta">→</span><span class="tn" style="--c:#009688">Draw Contours</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div><div class="tut-flow tut-indent2"><span class="ta">↳</span><span class="tn" style="--c:#009688">Bounding Rect</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                    </div>

                    <!-- Tutorial 5 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 5: Image Arithmetic &mdash; Blending Two Images</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Load two images and blend them together using Add Weighted.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Add two Image Read nodes</strong>
                                    <p>Drag two <em>Image Read</em> nodes onto the canvas. Upload a different image to each one.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Both images should be the same size. Use a <em>Resize</em> node if needed.</span></p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Resize nodes (optional)</strong>
                                    <p>If images have different sizes, add <em>Resize</em> after each Image Read.<br>
                                    Set both to the same Width/Height (e.g., 640 x 480).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Add Weighted node</strong>
                                    <p>Drag <em>Add Weighted</em> (Arithmetic category). It has two input ports.<br>
                                    Connect Image 1 &rarr; first input, Image 2 &rarr; second input.<br>
                                    Set <em>Alpha</em> to <code>0.5</code> and <em>Beta</em> to <code>0.5</code> for equal blending.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>Execute</strong>
                                    <p>Add Image Show, connect, and execute. Adjust Alpha/Beta to control the blend ratio.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read 1</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Resize</span><span class="ta">↘</span></div><div class="tut-flow tut-indent2"><span class="tn" style="--c:#3F51B5">Add Weighted<small>α=0.5, β=0.5</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read 2</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Resize</span><span class="ta">↗</span></div></div>
                    </div>

                    <!-- Tutorial 6 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 6: Template Matching &amp; Image Extraction</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Find a template image within a larger image, then extract the matched region.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Prepare source and template</strong>
                                    <p>Add two <em>Image Read</em> nodes. Upload your main image to the first, and a small template (pattern to find) to the second.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Template Match node</strong>
                                    <p>Drag <em>Template Match</em> (Detection category). It has two input ports: <em>image</em> and <em>template</em>.<br>
                                    Connect: main Image Read &rarr; <em>image</em> port, template Image Read &rarr; <em>template</em> port.<br>
                                    Set <em>Threshold</em> to <code>0.8</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View matched result (image output)</strong>
                                    <p>The <em>image</em> output port shows the original with red rectangles around matches.<br>
                                    Connect Template Match (image) &rarr; Image Show to see the result.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>Use the matches coordinate list</strong>
                                    <p>Template Match has a second output port: <em>matches</em>. This outputs a list of <code>[[x1,y1,x2,y2], ...]</code> coordinates.<br>
                                    Connect <em>matches</em> port &rarr; <em>Image Extract</em> node's <em>coords</em> input.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 5</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Image Extract node</strong>
                                    <p>Drag <em>Image Extract</em> (Detection category). It has two inputs: <em>image</em> and <em>coords</em>.<br>
                                    Connect: main Image Read &rarr; <em>image</em> port, Template Match (matches) &rarr; <em>coords</em> port.<br>
                                    Optionally set <em>Padding</em> to add extra pixels around the extracted region.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 6</div>
                                <div class="tutorial-step-body">
                                    <strong>Execute and view extracted region</strong>
                                    <p>Add Image Show after Image Extract. Execute to see just the matched area cropped out!<br>
                                    <span class="tutorial-tip">&#128161; Tip: By default, Image Extract uses the first match. Use <em>List Index/Slice</em> node between matches and Image Extract to select a specific match index.</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read<small>main</small></span><span class="ta">→</span><span class="tn" style="--c:#FF5722">Template Match</span><span class="ta ta-label">image→</span><span class="tn" style="--c:#4CAF50">Image Show<small>marked</small></span></div><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read<small>template</small></span><span class="ta">↗</span><span class="ta ta-label">template</span></div><div class="tut-flow tut-indent2"><span class="ta">↳</span><span class="ta ta-label">matches</span><span class="tn" style="--c:#FF5722">Image Extract</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show<small>cropped</small></span></div><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read<small>main</small></span><span class="ta ta-label">image→↗</span></div></div>
                    </div>

                    <!-- Tutorial 7 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 7: Using List Index/Slice with Template Match</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> When Template Match finds multiple matches, select a specific match or a range of matches.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Build on Tutorial 6</strong>
                                    <p>Use the same Template Match pipeline. Ensure your template appears multiple times in the source image.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add List Index/Slice node</strong>
                                    <p>Drag <em>List Index/Slice</em> (Value category). Connect Template Match (matches) &rarr; List (list port).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Index mode: Select one match</strong>
                                    <p>Set <em>Mode</em> to <code>index</code>. Set <em>Index</em> to <code>0</code> for the first match, <code>1</code> for the second, etc.<br>
                                    The output is a single <code>[x1,y1,x2,y2]</code> coordinate.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>Connect to Image Extract</strong>
                                    <p>Connect List Index/Slice (value) &rarr; Image Extract (coords).<br>
                                    Also connect the original image to Image Extract's image port.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 5</div>
                                <div class="tutorial-step-body">
                                    <strong>Slice mode: Select a range</strong>
                                    <p>Alternatively, set <em>Mode</em> to <code>slice</code>. Set <em>Start</em>=<code>0</code>, <em>Stop</em>=<code>3</code> to get first 3 matches.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Use <code>-1</code> for Stop to include all matches from Start to the end.</span></p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Tutorial 8 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 8: Video Frame-by-Frame Processing</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Load a video file and process it frame-by-frame using loop mode.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Video Read node</strong>
                                    <p>Drag <em>Video Read</em> (I/O category). Upload a video file or enter a file path.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Single frame mode (default)</strong>
                                    <p>Set <em>Mode</em> to <code>single</code> and <em>Frame Index</em> to any frame number.<br>
                                    Double-click the node to preview. Change the frame index and double-click again to see a different frame.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Build a processing pipeline</strong>
                                    <p>Add nodes after Video Read (e.g., CvtColor &rarr; Canny &rarr; Image Write).<br>
                                    This pipeline will be applied to <strong>every frame</strong> in loop mode.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>Switch to loop mode</strong>
                                    <p>Click Video Read. Set <em>Mode</em> to <code>loop</code>.<br>
                                    Set <em>Start Frame</em> = <code>0</code>, <em>End Frame</em> = <code>-1</code> (all frames), <em>Step</em> = <code>1</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 5</div>
                                <div class="tutorial-step-body">
                                    <strong>Save as video (optional)</strong>
                                    <p>In the <em>Image Write</em> node, check <em>Video Output</em>. Set the output filepath, codec (<code>mp4v</code>), and FPS.<br>
                                    The processed frames will be written to a new video file.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 6</div>
                                <div class="tutorial-step-body">
                                    <strong>Execute</strong>
                                    <p>Click <em>Execute</em>. A progress bar appears at the bottom showing frame progress.<br>
                                    Click <em>&#9632; Stop</em> to cancel processing at any time.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Video Read<small>loop mode</small></span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor</span><span class="ta">→</span><span class="tn" style="--c:#F44336">Canny</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Write<small>video output</small></span></div></div>
                    </div>

                    <!-- Tutorial 9 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 9: Face Detection with Haar Cascade</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect faces in an image using the Haar Cascade classifier.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Image Read &amp; upload a photo with faces</strong>
                                    <p>Drag Image Read. Double-click to upload a photo that contains one or more faces.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Haar Cascade node</strong>
                                    <p>Drag <em>Haar Cascade</em> (Detection category). Connect Image Read &rarr; Haar Cascade.<br>
                                    Set <em>Cascade</em> to <code>haarcascade_frontalface_default</code> (default).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Tune parameters</strong>
                                    <p><em>Scale Factor</em>: <code>1.1</code> (lower = more detections, slower). <em>Min Neighbors</em>: <code>5</code> (higher = fewer false positives).<br>
                                    Adjust <em>Min Size</em> to filter out small detections.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>Execute and view</strong>
                                    <p>Add Image Show. Execute. Green rectangles will be drawn around detected faces.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Try other cascades like <code>haarcascade_eye</code> or <code>haarcascade_smile</code>!</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#FF5722">Haar Cascade<small>face</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                    </div>

                    <!-- Tutorial 10 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 10: Custom Python Script Node</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Write custom OpenCV code for operations not available as built-in nodes.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Build input pipeline</strong>
                                    <p>Add Image Read and upload an image.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Python Script node</strong>
                                    <p>Drag <em>Python Script</em> (Script category). Connect Image Read &rarr; Python Script.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Write your code</strong>
                                    <p>Click the Python Script node. In Properties, write code in the <em>Script</em> textarea.<br>
                                    Use <code>img_input</code> to access the input image, and assign the result to <code>img_output</code>.</p>
                                    <div class="help-code" style="margin-top:8px;">
# Example: Apply sepia tone effect
gray = cv2.cvtColor(img_input, cv2.COLOR_BGR2GRAY)
gray_bgr = cv2.cvtColor(gray, cv2.COLOR_GRAY2BGR)
sepia_matrix = np.array([[0.272, 0.534, 0.131],
                         [0.349, 0.686, 0.168],
                         [0.393, 0.769, 0.189]])
img_output = cv2.transform(gray_bgr, sepia_matrix)
img_output = np.clip(img_output, 0, 255).astype(np.uint8)</div>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>External editor (optional)</strong>
                                    <p>Click <em>VS Code</em> or <em>Notepad</em> to open the script in an external editor with syntax highlighting.<br>
                                    After editing, click <em>Reload</em> in Properties to apply changes.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 5</div>
                                <div class="tutorial-step-body">
                                    <strong>Execute</strong>
                                    <p>Connect Image Show and execute. <code>cv2</code> and <code>np</code> (NumPy) are available in the script context.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#FFC107">Python Script</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                    </div>

                    <!-- Tutorial 11 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 11: HSV Color Filtering with InRange</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Convert to HSV color space, then use InRange to extract a specific color from the image.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load and convert to HSV</strong>
                                    <p>Add <em>Image Read</em> and upload a colorful image. Add <em>CvtColor</em> and set conversion to <code>COLOR_BGR2HSV</code>.<br>
                                    Connect Image Read &rarr; CvtColor.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add InRange node</strong>
                                    <p>Drag <em>InRange</em> (Threshold category). Connect CvtColor &rarr; InRange.<br>
                                    Set the lower and upper bounds for your target color (e.g., for red: lower=<code>[0,100,100]</code>, upper=<code>[10,255,255]</code>).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Apply mask with Bitwise AND</strong>
                                    <p>Add <em>Bitwise AND</em> (Arithmetic category). Connect Image Read &rarr; first input, and InRange &rarr; mask input.<br>
                                    This extracts only the pixels matching your color range.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>View the result</strong>
                                    <p>Add <em>Image Show</em> and connect. Execute with <kbd>Ctrl+Enter</kbd>.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor<small>BGR2HSV</small></span><span class="ta">→</span><span class="tn" style="--c:#795548">InRange</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Use InRange to create masks for specific colors (e.g., red: H=0-10, S=100-255, V=100-255). Combine two InRange results with Bitwise OR to catch both ends of the red hue range.
                        </div>
                    </div>

                    <!-- Tutorial 12 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 12: Channel Split &amp; Merge</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Split an image into B, G, R channels, inspect or modify individual channels, then merge them back.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image</strong>
                                    <p>Add <em>Image Read</em> and upload a color image.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Split Channels node</strong>
                                    <p>Drag <em>Split Channels</em> (Color category). Connect Image Read &rarr; Split Channels.<br>
                                    This node outputs three channels: <em>ch0</em> (Blue), <em>ch1</em> (Green), <em>ch2</em> (Red).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View individual channels</strong>
                                    <p>Add three <em>Image Show</em> nodes and connect each to ch0, ch1, ch2. Execute to see each channel as a grayscale image.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>Merge channels back</strong>
                                    <p>Add <em>Merge Channels</em> (Color category). Connect ch0, ch1, ch2 to its three inputs.<br>
                                    Add Image Show after Merge and execute.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Try connecting channels in different order to swap colors!</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Split Channels</span><span class="ta ta-label">ch0→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div><div class="tut-flow tut-indent"><span class="ta ta-label">ch1→</span><span class="tn" style="--c:#9C27B0">Merge Channels</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div><div class="tut-flow tut-indent"><span class="ta ta-label">ch2→</span><span class="ta">↗</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Swap the channel connections when merging (e.g., connect Red to Blue input) to create color-shifted effects.
                        </div>
                    </div>

                    <!-- Tutorial 13 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 13: Adaptive Threshold</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Handle images with uneven lighting using adaptive thresholding instead of a global threshold.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Prepare grayscale input</strong>
                                    <p>Add <em>Image Read</em> and upload an image with uneven lighting (e.g., a document photo). Add <em>CvtColor</em> set to <code>COLOR_BGR2GRAY</code>.<br>
                                    Connect Image Read &rarr; CvtColor.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Adaptive Threshold node</strong>
                                    <p>Drag <em>Adaptive Threshold</em> (Threshold category). Connect CvtColor &rarr; Adaptive Threshold.<br>
                                    Set <em>Method</em> to <code>ADAPTIVE_THRESH_GAUSSIAN_C</code>, <em>Block Size</em> to <code>11</code>, and <em>C</em> to <code>2</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View and compare</strong>
                                    <p>Add <em>Image Show</em> and connect. Execute with <kbd>Ctrl+Enter</kbd>.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Compare ADAPTIVE_THRESH_MEAN_C vs GAUSSIAN_C. Adjust Block Size (must be odd) and C to fine-tune the result.</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor<small>GRAY</small></span><span class="ta">→</span><span class="tn" style="--c:#795548">Adaptive Threshold</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Place a regular Threshold and Adaptive Threshold side by side on the same grayscale input to see how adaptive handles uneven lighting better.
                        </div>
                    </div>

                    <!-- Tutorial 14 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 14: Image Sharpening</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Sharpen a blurry image using the Sharpen node or Filter2D with a custom kernel.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image</strong>
                                    <p>Add <em>Image Read</em> and upload a slightly blurry image.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Sharpen node</strong>
                                    <p>Drag <em>Sharpen</em> (Filter category). Connect Image Read &rarr; Sharpen.<br>
                                    Adjust the sharpening strength in the properties panel.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View the result</strong>
                                    <p>Add <em>Image Show</em> and connect. Execute with <kbd>Ctrl+Enter</kbd>.<br>
                                    <span class="tutorial-tip">&#128161; Tip: For more control, use <em>Filter2D</em> with a custom sharpen kernel. Try the &lsquo;sharpen&rsquo; preset in Filter2D.</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Sharpen</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Use <em>Filter2D</em> with a custom kernel like <code>[[0,-1,0],[-1,5,-1],[0,-1,0]]</code> for a classic unsharp mask effect.
                        </div>
                    </div>

                    <!-- Tutorial 15 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 15: Sobel Edge Gradients</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect horizontal and vertical edges separately using Sobel gradient operators.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Prepare grayscale input</strong>
                                    <p>Add <em>Image Read</em> &rarr; <em>CvtColor</em> (<code>COLOR_BGR2GRAY</code>). Upload an image with clear lines or edges.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add two Sobel nodes</strong>
                                    <p>Drag two <em>Sobel</em> (Edge Detection category) nodes. Connect CvtColor &rarr; both Sobel nodes.<br>
                                    First Sobel: set <em>dx</em>=<code>1</code>, <em>dy</em>=<code>0</code> (vertical edges).<br>
                                    Second Sobel: set <em>dx</em>=<code>0</code>, <em>dy</em>=<code>1</code> (horizontal edges).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View both results</strong>
                                    <p>Add an <em>Image Show</em> after each Sobel. Execute to compare horizontal vs vertical edge detection.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Combine X and Y gradients with an <em>Add</em> node for a full edge map.</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor<small>GRAY</small></span><span class="ta">→</span><span class="tn" style="--c:#F44336">Sobel<small>dx=1</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show<small>X edges</small></span></div><div class="tut-flow tut-indent"><span class="ta">↳</span><span class="tn" style="--c:#F44336">Sobel<small>dy=1</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show<small>Y edges</small></span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Add an <em>Add</em> node, connect both Sobel outputs to it, and view the combined gradient magnitude.
                        </div>
                    </div>

                    <!-- Tutorial 16 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 16: Dilate &amp; Erode</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Expand and shrink white regions in binary images using Dilate and Erode operations.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Create a binary image</strong>
                                    <p>Add <em>Image Read</em> &rarr; <em>CvtColor</em> (<code>COLOR_BGR2GRAY</code>) &rarr; <em>Threshold</em>.<br>
                                    Set Threshold type to <code>THRESH_BINARY</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Dilate node</strong>
                                    <p>Drag <em>Dilate</em> (Morphology category). Connect Threshold &rarr; Dilate.<br>
                                    Set <em>Kernel Size</em> and <em>Iterations</em> in properties. Connect to an Image Show.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Erode node</strong>
                                    <p>Drag <em>Erode</em> (Morphology category). Also connect Threshold &rarr; Erode.<br>
                                    Connect to a second Image Show to compare both results side by side.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>Execute and compare</strong>
                                    <p>Execute with <kbd>Ctrl+Enter</kbd>. Observe how Dilate expands white regions while Erode shrinks them.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Dilate is useful for connecting broken lines. Erode removes small noise blobs.</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor<small>GRAY</small></span><span class="ta">→</span><span class="tn" style="--c:#795548">Threshold</span><span class="ta">→</span><span class="tn" style="--c:#607D8B">Dilate</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show<small>dilated</small></span></div><div class="tut-flow tut-indent"><span class="ta">↳</span><span class="tn" style="--c:#607D8B">Erode</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show<small>eroded</small></span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Chain Erode &rarr; Dilate (Opening) to remove noise while preserving shape, or Dilate &rarr; Erode (Closing) to fill small gaps.
                        </div>
                    </div>

                    <!-- Tutorial 17 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 17: Hough Line Detection</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect straight lines in an image using the Hough Line Transform.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Prepare edge input</strong>
                                    <p>Add <em>Image Read</em> &rarr; <em>CvtColor</em> (<code>COLOR_BGR2GRAY</code>) &rarr; <em>Canny</em>.<br>
                                    Upload an image with visible lines (e.g., a road, building, or document).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Hough Lines node</strong>
                                    <p>Drag <em>Hough Lines</em> (Detection category). Connect Canny &rarr; Hough Lines.<br>
                                    Also connect Image Read &rarr; Hough Lines image input (for drawing lines on the original).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Tune and execute</strong>
                                    <p>Add <em>Image Show</em> and connect. Execute with <kbd>Ctrl+Enter</kbd>.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Adjust <em>threshold</em> and <em>minLineLength</em> for better results. Lower threshold detects more lines.</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">CvtColor<small>GRAY</small></span><span class="ta">→</span><span class="tn" style="--c:#F44336">Canny</span><span class="ta">→</span><span class="tn" style="--c:#FF5722">Hough Lines</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Use a Gaussian Blur before Canny to reduce noise and get cleaner line detections.
                        </div>
                    </div>

                    <!-- Tutorial 18 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 18: Hough Circle Detection</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect circles in an image using the Hough Circle Transform.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image</strong>
                                    <p>Add <em>Image Read</em> and upload an image containing circular objects (coins, buttons, wheels, etc.).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Hough Circles node</strong>
                                    <p>Drag <em>Hough Circles</em> (Detection category). Connect Image Read &rarr; Hough Circles.<br>
                                    Adjust <em>dp</em>, <em>minDist</em>, <em>param1</em>, and <em>param2</em> in the properties panel.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View detected circles</strong>
                                    <p>Add <em>Image Show</em> and connect. Execute with <kbd>Ctrl+Enter</kbd>.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Increase <em>param2</em> to reduce false positives. Adjust <em>minRadius</em> and <em>maxRadius</em> to target specific circle sizes.</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#FF5722">Hough Circles</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Apply a Gaussian Blur before Hough Circles to improve detection accuracy on noisy images.
                        </div>
                    </div>

                    <!-- Tutorial 19 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 19: Resize &amp; Scale</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Resize images by specifying pixel dimensions or a scale factor.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image</strong>
                                    <p>Add <em>Image Read</em> and upload any image.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Resize node</strong>
                                    <p>Drag <em>Resize</em> (Transform category). Connect Image Read &rarr; Resize.<br>
                                    Set <em>Width</em> and <em>Height</em> for exact dimensions, or use <em>Scale X</em> / <em>Scale Y</em> for proportional scaling.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View the result</strong>
                                    <p>Add <em>Image Show</em> and connect. Execute with <kbd>Ctrl+Enter</kbd>.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Try different interpolation methods: <code>INTER_NEAREST</code> for pixel art, <code>INTER_CUBIC</code> for smooth photo scaling.</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Resize</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Use <code>INTER_NEAREST</code> when upscaling pixel art to keep sharp edges, and <code>INTER_CUBIC</code> or <code>INTER_LANCZOS4</code> for high-quality photo downscaling.
                        </div>
                    </div>

                    <!-- Tutorial 20 -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 20: Rotate &amp; Flip</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Rotate images by any angle and flip them horizontally or vertically.</p>

                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image</strong>
                                    <p>Add <em>Image Read</em> and upload any image.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Rotate node</strong>
                                    <p>Drag <em>Rotate</em> (Transform category). Connect Image Read &rarr; Rotate.<br>
                                    Set the <em>Angle</em> property (e.g., <code>45</code> for a 45-degree rotation).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Add Flip node</strong>
                                    <p>Drag <em>Flip</em> (Transform category). Connect Rotate &rarr; Flip.<br>
                                    Set <em>Flip Mode</em>: <code>Horizontal</code> (left-right), <code>Vertical</code> (top-bottom), or <code>Both</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 4</div>
                                <div class="tutorial-step-body">
                                    <strong>View the result</strong>
                                    <p>Add <em>Image Show</em> and connect. Execute with <kbd>Ctrl+Enter</kbd>.<br>
                                    <span class="tutorial-tip">&#128161; Tip: Rotate supports any angle. Flip has 3 modes: Horizontal, Vertical, and Both.</span></p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Image Read</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Rotate<small>45&deg;</small></span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Flip<small>H</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Image Show</span></div></div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Chain multiple Rotate and Flip nodes to create interesting transformations. Try rotating by 90, 180, or 270 degrees for quick orientation fixes.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 21: Crop - Region of Interest (ROI)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Extract a specific rectangular region from an image to focus on an area of interest.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image</strong>
                                    <p>Add an <em>Image Read</em> node and upload a photo with a clear subject you want to crop.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add and configure Crop</strong>
                                    <p>Add a <em>Crop</em> node. Set <code>x</code>, <code>y</code> for the top-left corner, and <code>width</code>, <code>height</code> for the region size. Connect it to Image Read.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View the cropped region</strong>
                                    <p>Add an <em>Image Show</em> node, connect it to Crop, and execute the pipeline to see the extracted region.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#00BCD4">Crop<small>x,y,w,h</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Use Crop to focus processing on a specific area, then combine with Resize to standardize output sizes across different source images.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 22: Drawing Shapes on Images</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Draw lines, rectangles, and circles on an image for annotation or visualization.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image</strong>
                                    <p>Add an <em>Image Read</em> node and upload a photo you want to annotate.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add drawing nodes</strong>
                                    <p>Chain <em>Draw Rectangle</em>, <em>Draw Circle</em>, and <em>Draw Line</em> nodes. For each, set coordinates, color (BGR), and thickness.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View the annotated image</strong>
                                    <p>Add an <em>Image Show</em> node at the end and execute. All shapes are drawn on the image sequentially.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#E91E63">Draw Rectangle<small>coords,color</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#E91E63">Draw Circle<small>center,radius</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#E91E63">Draw Line<small>pt1,pt2</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Drawing nodes modify the image in-place. Chain multiple draw nodes for complex annotations, and use thickness=-1 on rectangles and circles to fill them.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 23: Adding Text Overlay</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Put text on an image with custom font, size, and color.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image</strong>
                                    <p>Add an <em>Image Read</em> node and upload a photo for the text overlay.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Configure Draw Text</strong>
                                    <p>Add a <em>Draw Text</em> node. Set the <code>text</code> content, <code>x/y</code> position, <code>font</code>, <code>scale</code>, and <code>color</code> (BGR values).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Display the result</strong>
                                    <p>Connect to <em>Image Show</em> and execute. Adjust font scale and position to fit your image.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#E91E63">Draw Text<small>text,pos,font,scale</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Use multiple Draw Text nodes for multi-line text at different positions. Increase thickness for bold text, or add a dark-colored text behind a light-colored text for a shadow effect.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 24: Bitwise Mask Operations</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Apply a binary mask to keep only a specific color region of an image using bitwise operations.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Create the mask</strong>
                                    <p>Add <em>Image Read</em> → <em>CvtColor</em> (set to HSV) → <em>InRange</em> (set lower/upper bounds for your target color). This produces a binary mask.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Apply the mask with Bitwise AND</strong>
                                    <p>Add a <em>Bitwise AND</em> node. Connect the original <em>Image Read</em> to both image inputs and the <em>InRange</em> output to the mask input.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View the extraction</strong>
                                    <p>Add <em>Image Show</em> after Bitwise AND and execute. Only pixels matching the color range will remain visible.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#9C27B0">CvtColor<small>HSV</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#795548">InRange<small>lo,hi</small></span>
                                <span class="ta">↘</span>
                            </div>
                            <div class="tut-flow tut-indent">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#3F51B5">Bitwise AND<small>+mask</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> This is the fundamental technique for color-based object extraction. Adjust the InRange bounds to isolate different colors &mdash; try extracting red, green, or blue objects from a colorful scene.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 25: Histogram Equalization (CLAHE)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Improve contrast of dark or low-contrast images using adaptive histogram equalization.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load and convert to grayscale</strong>
                                    <p>Add <em>Image Read</em> with a dark or low-contrast photo, then add <em>CvtColor</em> set to <code>GRAY</code>.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Apply CLAHE equalization</strong>
                                    <p>Add a <em>Histogram EQ</em> node and set the mode to <code>CLAHE</code>. Adjust <code>clipLimit</code> (try 2.0&ndash;4.0) to control contrast enhancement.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Compare results</strong>
                                    <p>Add <em>Image Show</em> nodes after both CvtColor and Histogram EQ to compare before and after. Execute the pipeline.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#9C27B0">CvtColor<small>GRAY</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#673AB7">Histogram EQ<small>CLAHE</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> CLAHE works better than global equalization for images with varying brightness regions. Increase <code>clipLimit</code> for stronger contrast or decrease it for a more subtle effect.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 26: Image Difference - Change Detection (AbsDiff)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect differences between two images by computing the absolute pixel-wise difference.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load two similar images</strong>
                                    <p>Add two <em>Image Read</em> nodes and upload two images of the same scene with slight differences (e.g., before/after).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Compute the difference</strong>
                                    <p>Add an <em>AbsDiff</em> node and connect both Image Read nodes to its two inputs. Then add a <em>Threshold</em> node to highlight significant changes.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View detected changes</strong>
                                    <p>Add <em>Image Show</em> after Threshold and execute. White regions indicate where changes occurred.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read<small>img1</small></span>
                                <span class="ta">↘</span>
                            </div>
                            <div class="tut-flow tut-indent">
                                <span class="tn" style="--c:#3F51B5">AbsDiff</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#795548">Threshold</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read<small>img2</small></span>
                                <span class="ta">↗</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Use this technique for motion detection by comparing consecutive video frames. Adjust the Threshold value to control sensitivity to changes.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 27: GrabCut Foreground Extraction</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Separate the foreground object from the background using the GrabCut algorithm.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image with a clear subject</strong>
                                    <p>Add an <em>Image Read</em> node and upload a photo with a distinct foreground object (e.g., a person, animal, or product).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Configure GrabCut</strong>
                                    <p>Add a <em>GrabCut</em> node. Set the bounding rectangle (<code>x, y, width, height</code>) tightly around the foreground object.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View the segmentation</strong>
                                    <p>Add <em>Image Show</em>, connect it to GrabCut, and execute. The background will be removed, leaving only the foreground.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#795548">GrabCut<small>rect(x,y,w,h)</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Set the bounding rectangle tightly around the foreground object for best results. Increase the iteration count for more refined segmentation at the cost of processing time.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 28: Watershed Segmentation</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Segment touching or overlapping objects using the Watershed algorithm to find boundary lines.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Prepare a binary image</strong>
                                    <p>Add <em>Image Read</em> → <em>CvtColor</em> (GRAY) → <em>Threshold</em> (BINARY_INV) to create a binary mask of the objects.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Apply Watershed</strong>
                                    <p>Add a <em>Watershed</em> node. Connect the original <em>Image Read</em> and the <em>Threshold</em> output. The algorithm will find boundaries between touching objects.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View segmentation boundaries</strong>
                                    <p>Add <em>Image Show</em> and execute. Red boundary lines will appear between segmented regions.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#9C27B0">CvtColor<small>GRAY</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#795548">Threshold<small>BIN_INV</small></span>
                                <span class="ta">↘</span>
                            </div>
                            <div class="tut-flow tut-indent">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#795548">Watershed</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Adjust the Marker Kernel Size to control segmentation granularity. A larger kernel merges small regions; a smaller kernel preserves finer detail between objects.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 29: Perspective Transform (Document Scanner)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Correct perspective distortion to create a flat, top-down view of a tilted document or surface.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load a perspective-distorted image</strong>
                                    <p>Add an <em>Image Read</em> node and upload a photo of a document, sign, or surface taken at an angle.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Configure Warp Perspective</strong>
                                    <p>Add a <em>Warp Perspective</em> node. Set the 4 source points (corners of the tilted document) and 4 destination points (a flat rectangle, e.g., <code>[0,0], [w,0], [w,h], [0,h]</code>).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View the corrected image</strong>
                                    <p>Add <em>Image Show</em> and execute. The document should now appear flat and correctly oriented.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#00BCD4">Warp Perspective<small>4pts→4pts</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Source points are the 4 corners of the tilted document in the photo. Destination points should form a rectangle matching the desired output size. Combine with Threshold for a clean scanned-document look.
                        </div>
                    </div>

                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 30: For Loop - Iterative Processing</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Apply an operation multiple times using the For Loop control node for iterative image processing.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Load an image and add For Loop</strong>
                                    <p>Add <em>Image Read</em>, then add a <em>For Loop</em> node. Set <code>iterations</code> to 5. Connect Image Read to the For Loop input.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Add processing inside the loop</strong>
                                    <p>Add a <em>Gaussian Blur</em> node inside the loop body. Each iteration will apply the blur again to the previous result.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>View the iterated result</strong>
                                    <p>Add <em>Image Show</em> after the For Loop output and execute. The image will be progressively blurred over 5 passes.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#26A69A">For Loop<small>iter=5</small></span>
                                <span class="ta">↳</span>
                                <span class="tn" style="--c:#FF9800">Gaussian Blur<small>k=3</small></span>
                                <span class="ta">↗</span>
                            </div>
                            <div class="tut-flow tut-indent2">
                                <span class="ta ta-label">out→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>Try this:</strong> Each iteration applies the blur again on the previous result. 5 iterations of Blur(k=3) creates a much smoother result than a single Blur(k=15), with a different visual character. Try using Erode or Dilate inside the loop instead.
                        </div>
                    </div>

                    <!-- ═══════════════════════════════════════════════ -->
                    <!-- ADVANCED EXAMPLES (31-60) -->
                    <!-- ═══════════════════════════════════════════════ -->
                    <h3 style="margin-top:32px; border-top:2px solid #4CAF50; padding-top:16px;">&#128640; Advanced Project Examples</h3>
                    <p style="color:#a6adc8; margin-bottom:16px;">30 practical projects with ready-to-load JSON files in the <code>examples/</code> folder. Use <strong>Load</strong> to open each example instantly.</p>

                    <!-- Example 31: Finger Counter -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 31: 손가락 개수 세기 (Finger Counter)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect skin color from video and estimate finger count via contour/convex hull analysis.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Video input</strong><p>Add <em>Video Read</em> and upload a hand video clip.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>HSV skin detection</strong><p>Add <em>CvtColor</em> (BGR→HSV) → <em>InRange</em> (H=0~20, S=30~150, V=60~255) for skin mask.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 3</div><div class="tutorial-step-body"><strong>Noise removal</strong><p>Add <em>Gaussian Blur</em>(k=5) → <em>Erode</em>(k=3, iter=2) → <em>Dilate</em>(k=3, iter=3).</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 4</div><div class="tutorial-step-body"><strong>Contour analysis</strong><p>Add <em>Find Contours</em>(RETR_EXTERNAL) → <em>Convex Hull</em> → <em>Contour Properties</em> → <em>Image Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#FF5722">Video Read</span><span class="ta">→</span>
                            <span class="tn" style="--c:#9C27B0">CvtColor<small>HSV</small></span><span class="ta">→</span>
                            <span class="tn" style="--c:#E91E63">InRange<small>skin</small></span><span class="ta">→</span>
                            <span class="tn" style="--c:#FF9800">Blur</span><span class="ta">→</span>
                            <span class="tn" style="--c:#607D8B">Erode</span><span class="ta">→</span>
                            <span class="tn" style="--c:#607D8B">Dilate</span><span class="ta">→</span>
                            <span class="tn" style="--c:#009688">Contours</span><span class="ta">→</span>
                            <span class="tn" style="--c:#009688">Hull</span><span class="ta">→</span>
                            <span class="tn" style="--c:#4CAF50">Show</span>
                        </div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/01_finger_counter.json</code> — Adjust InRange HSV values for different lighting conditions.</div>
                    </div>

                    <!-- Example 32: Fade Transition -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 32: 이미지 페이드 전환 (Fade In/Out)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Blend two images smoothly using Alpha blending for fade transitions.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Load two images</strong><p>Add two <em>Image Read</em> nodes, each with a different image. Add <em>Resize</em> to match sizes (640×480).</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Blend</strong><p>Add <em>Add Weighted</em> (Alpha=0.5, Beta=0.5). Connect Resize A → image, Resize B → image2.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 3</div><div class="tutorial-step-body"><strong>Animate</strong><p>Change Alpha from 0.0→1.0 to see the fade effect. Alpha+Beta=1.0 keeps brightness constant.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#4CAF50">Read A</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Resize</span><span class="ta">→</span><span class="tn" style="--c:#3F51B5">Add Weighted<small>α=0.5</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span>
                        </div><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read B</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Resize</span><span class="ta">↗</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/02_fade_transition.json</code></div>
                    </div>

                    <!-- Example 33: Motion Detection -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 33: 움직임 감지 (Motion Detection)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect moving objects using frame difference between consecutive video frames.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Two frames</strong><p>Add two <em>Video Read</em> with same video but Frame Index=0 and 5.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Frame difference</strong><p>Add <em>AbsDiff</em>. Connect frame0 → image, frame5 → image2.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 3</div><div class="tutorial-step-body"><strong>Detect regions</strong><p><em>CvtColor</em>(GRAY) → <em>Threshold</em>(30) → <em>Dilate</em>(k=5,iter=3) → <em>Bounding Rect</em> → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#FF5722">Video<small>T=0</small></span><span class="ta">→</span><span class="tn" style="--c:#3F51B5">AbsDiff</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#795548">Thresh</span><span class="ta">→</span><span class="tn" style="--c:#607D8B">Dilate</span><span class="ta">→</span><span class="tn" style="--c:#009688">BBox</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span>
                        </div><div class="tut-flow"><span class="tn" style="--c:#FF5722">Video<small>T=5</small></span><span class="ta">↗</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/03_motion_detection.json</code></div>
                    </div>

                    <!-- Example 34: Color Tracking -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 34: 색상 객체 추적 (Color Tracking)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Track objects of a specific color in video using HSV range filtering.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Video + HSV</strong><p><em>Video Read</em>(loop) → <em>CvtColor</em>(HSV) → <em>InRange</em> (blue: H=100~130, S=50~255, V=50~255).</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Clean mask</strong><p><em>Morphology</em>(OPEN,k=5) → <em>Morphology</em>(CLOSE,k=5) removes noise and fills gaps.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 3</div><div class="tutorial-step-body"><strong>Draw tracking</strong><p><em>Find Contours</em>(EXTERNAL) → <em>Min Enclosing Circle</em> → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#FF5722">Video<small>loop</small></span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">HSV</span><span class="ta">→</span><span class="tn" style="--c:#E91E63">InRange<small>blue</small></span><span class="ta">→</span><span class="tn" style="--c:#607D8B">Open</span><span class="ta">→</span><span class="tn" style="--c:#607D8B">Close</span><span class="ta">→</span><span class="tn" style="--c:#009688">Contours</span><span class="ta">→</span><span class="tn" style="--c:#009688">Circle</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span>
                        </div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/04_color_tracking.json</code> — Red: H=0~10/170~180, Green: H=35~85.</div>
                    </div>

                    <!-- Example 35: Face + Eye Detection -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 35: 얼굴+눈 검출 (Face &amp; Eye Detection)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect faces and eyes simultaneously using cascaded Haar classifiers.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Face detection</strong><p><em>Image Read</em> → <em>Haar Cascade</em>(face, Scale=1.3, Neighbors=5).</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Cascaded eye detection</strong><p>Connect face output → <em>Haar Cascade</em>(eye, Scale=1.1, Neighbors=5). Eyes are detected within face regions.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#FF5722">Haar<small>face</small></span><span class="ta">→</span><span class="tn" style="--c:#FF5722">Haar<small>eye</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span>
                        </div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/05_face_detection.json</code></div>
                    </div>

                    <!-- Example 36: Cartoon Effect -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 36: 카툰 효과 (Cartoon Effect) ★★★★</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Create cartoon-style images by combining bilateral filter (smooth color) + edge mask.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Color path</strong><p><em>Image Read</em> → <em>Bilateral Filter</em>(d=9, σ=75). Smooths colors while preserving edges.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Edge path</strong><p><em>Image Read</em> → <em>CvtColor</em>(GRAY) → <em>Median Blur</em>(k=7) → <em>Adaptive Threshold</em>(MEAN_C, block=9, C=2).</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 3</div><div class="tutorial-step-body"><strong>Convert to 3ch</strong><p>Connect Adaptive Threshold to <em>Merge Channels</em> ch0, ch1, ch2 (all three).</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 4</div><div class="tutorial-step-body"><strong>Merge</strong><p><em>Bitwise AND</em>: Bilateral → image, Merge Channels → image2 → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Bilateral<small>d=9</small></span><span class="ta">→</span><span class="tn" style="--c:#3F51B5">AND</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span>
                        </div><div class="tut-flow">
                            <span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Median<small>k=7</small></span><span class="ta">→</span><span class="tn" style="--c:#795548">Adapt.TH</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Merge 3ch</span><span class="ta">↗</span>
                        </div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/06_cartoon_effect.json</code></div>
                    </div>

                    <!-- Example 37: Document Scanner -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 37: 문서 스캐너 (Document Scanner)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect document boundaries using edge + contour + polygon approximation.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Preprocess</strong><p><em>Read</em> → <em>CvtColor</em>(GRAY) → <em>Gaussian</em>(k=5) → <em>Adaptive TH</em>(GAUSSIAN_C, block=11).</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Close gaps</strong><p><em>Morphology</em>(CLOSE, k=3, iter=2) connects broken edges.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 3</div><div class="tutorial-step-body"><strong>Detect polygon</strong><p><em>Find Contours</em>(EXTERNAL) → <em>Approx Poly</em>(ε=0.02). A 4-vertex result = document.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Blur<small>k=5</small></span><span class="ta">→</span><span class="tn" style="--c:#795548">Adapt.TH</span><span class="ta">→</span><span class="tn" style="--c:#607D8B">Close</span><span class="ta">→</span><span class="tn" style="--c:#009688">Contours</span><span class="ta">→</span><span class="tn" style="--c:#009688">ApproxPoly</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span>
                        </div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/07_document_scanner.json</code> — Use detected corners with Warp Perspective for rectification.</div>
                    </div>

                    <!-- Example 38: Histogram CLAHE -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 38: 히스토그램 CLAHE 보정</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Improve image contrast with CLAHE and compare histograms before/after.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Apply CLAHE</strong><p><em>Read</em>(dark image) → <em>Histogram EQ</em>(CLAHE=true, Clip=2.0, Tile=8) → <em>Show</em>.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Compare histograms</strong><p>Branch Read → <em>Calc Histogram</em> → <em>Show</em>(original). Branch CLAHE → <em>Calc Histogram</em> → <em>Show</em>(corrected).</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#673AB7">CLAHE</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span><span class="ta">→</span><span class="tn" style="--c:#673AB7">Calc Hist</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span>
                        </div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/08_histogram_clahe.json</code></div>
                    </div>

                    <!-- Example 39: Watermark -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 39: 이미지 워터마크 합성</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Blend two images and add a text watermark overlay.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Resize both</strong><p>Two <em>Image Read</em> → two <em>Resize</em>(640×480) to match sizes.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Blend + text</strong><p><em>Add Weighted</em>(α=0.7, β=0.3) → <em>Draw Text</em>("(C) SamOpenCV", white) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#4CAF50">Main</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Resize</span><span class="ta">→</span><span class="tn" style="--c:#3F51B5">Blend<small>α=0.7</small></span><span class="ta">→</span><span class="tn" style="--c:#E91E63">Draw Text</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span>
                        </div><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Overlay</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Resize</span><span class="ta">↗</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/09_watermark_blend.json</code></div>
                    </div>

                    <!-- Example 40: Edge Art -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 40: 에지 아트 (Multi-Edge Art)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Combine multiple edge detectors for a pencil-sketch artistic effect.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Two edge paths</strong><p><em>Read</em> → <em>CvtColor</em>(GRAY). Branch to: <em>Gaussian</em> → <em>Canny</em>(50,150) AND <em>Sobel</em>(dx=1,dy=1).</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Combine + invert</strong><p><em>Bitwise OR</em>(Canny+Sobel) → <em>Bitwise NOT</em> (white bg, black lines) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow">
                            <span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Blur</span><span class="ta">→</span><span class="tn" style="--c:#F44336">Canny</span><span class="ta">→</span><span class="tn" style="--c:#3F51B5">OR</span><span class="ta">→</span><span class="tn" style="--c:#3F51B5">NOT</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span>
                        </div><div class="tut-flow"><span class="tn" style="--c:#F44336">Sobel<small>dx=1,dy=1</small></span><span class="ta">↗</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/10_edge_art.json</code> — Add Laplacian/Scharr to OR for richer edges.</div>
                    </div>

                    <!-- Example 41: Noise Removal Comparison -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 41: 노이즈 제거 비교 (Blur Comparison)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Compare Gaussian, Median, and Bilateral filter noise removal effects.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Branch from one image</strong><p><em>Read</em> → branch to 3 filters: <em>Gaussian</em>(k=5), <em>Median</em>(k=5), <em>Bilateral</em>(d=9, σ=75).</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><strong>Compare</strong><p>Connect each to its own <em>Image Show</em> and execute to compare side by side.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Gaussian</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div>
                        <div class="tut-flow"><span class="ta">↳</span><span class="tn" style="--c:#FF9800">Median</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div>
                        <div class="tut-flow"><span class="ta">↳</span><span class="tn" style="--c:#FF9800">Bilateral</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/11_noise_removal.json</code></div>
                    </div>

                    <!-- Example 42: Image Negative -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 42: 이미지 네거티브 (반전)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Invert all pixel colors using Bitwise NOT.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>Bitwise NOT</em> → <em>Show</em>. Compare with original via a second <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#3F51B5">NOT</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/12_image_negative.json</code></div>
                    </div>

                    <!-- Example 43: Feature Matching -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 43: 파노라마용 특징 매칭</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Match ORB features between two overlapping images for panorama stitching.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p>Two <em>Read</em>(left/right) → <em>Match Features</em>(n=500, ratio=0.75) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Left</span><span class="ta">→</span><span class="tn" style="--c:#CDDC39">Match Features<small>n=500</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div>
                        <div class="tut-flow"><span class="tn" style="--c:#4CAF50">Right</span><span class="ta">↗</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/13_panorama_matching.json</code></div>
                    </div>

                    <!-- Example 44: Hough Lines -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 44: 허프 직선 검출</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect straight lines in images using Hough Line Transform.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>Gray</em> → <em>Gaussian</em>(k=5) → <em>Canny</em>(50,150) → <em>Hough Lines</em>(ρ=1, θ÷=180, thresh=100) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Blur</span><span class="ta">→</span><span class="tn" style="--c:#F44336">Canny</span><span class="ta">→</span><span class="tn" style="--c:#CDDC39">Hough Lines</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/14_hough_line_detection.json</code></div>
                    </div>

                    <!-- Example 45: Hough Circles -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 45: 허프 원 검출</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Detect circular objects (coins, balls) using Hough Circle Transform.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>Gray</em> → <em>Gaussian</em>(k=9) → <em>Hough Circles</em>(dp=1.2, minDist=50, param2=30) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Blur<small>k=9</small></span><span class="ta">→</span><span class="tn" style="--c:#CDDC39">Hough Circles</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/15_hough_circle_detection.json</code></div>
                    </div>

                    <!-- Example 46: GrabCut -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 46: GrabCut 전경 추출</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Separate foreground objects from background using GrabCut algorithm.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>GrabCut</em>(ROI: x=50,y=50,w=400,h=300, iter=5) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#795548">GrabCut<small>ROI</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/16_grabcut_segmentation.json</code></div>
                    </div>

                    <!-- Example 47: Watershed -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 47: Watershed 분할</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Segment overlapping objects using marker-based Watershed algorithm.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>Watershed</em>(MarkerSize=3) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#795548">Watershed</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/17_watershed_segmentation.json</code></div>
                    </div>

                    <!-- Example 48: Perspective Transform -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 48: 원근 변환 보정</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Correct perspective distortion by specifying 4 source and 4 destination points.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em>(tilted photo) → <em>Warp Perspective</em>(set 4 src/dst corner points) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Warp Perspective<small>4pts</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/18_perspective_transform.json</code></div>
                    </div>

                    <!-- Example 49: Flood Fill -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 49: Flood Fill 색칠</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Fill connected regions with color using seed points.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → 3 chained <em>Flood Fill</em> nodes with different seed points and colors (R, G, B) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#795548">Fill<small>Red</small></span><span class="ta">→</span><span class="tn" style="--c:#795548">Fill<small>Green</small></span><span class="ta">→</span><span class="tn" style="--c:#795548">Fill<small>Blue</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/19_flood_fill_coloring.json</code></div>
                    </div>

                    <!-- Example 50: Morphology Comparison -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 50: 형태학 연산 비교</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Compare Open, Close, Gradient, Top Hat morphological operations.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>Gray</em> → <em>Otsu</em> → branch to 4 <em>Morphology</em>(Open/Close/Gradient/TopHat) → 4 × <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#795548">Otsu</span><span class="ta">→</span><span class="tn" style="--c:#607D8B">Open / Close / Gradient / TopHat</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">4×Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/20_morphology_comparison.json</code></div>
                    </div>

                    <!-- Example 51: Sharpen Compare -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 51: 샤프닝 강도 비교</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Compare weak/medium/strong sharpening effects side by side.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → branch to 3 <em>Sharpen</em>(0.5 / 1.5 / 3.0) → 3 × <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Sharpen<small>0.5 / 1.5 / 3.0</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">3×Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/21_sharpen_compare.json</code></div>
                    </div>

                    <!-- Example 52: Color Extraction -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 52: 색상 추출 (Color Extraction)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Extract only specific colors from image using HSV mask + Bitwise AND.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>CvtColor</em>(HSV) → <em>InRange</em>(Red: H=0~10) → creates binary mask.</p></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><p><em>Bitwise AND</em>: original(image) + mask(image2) → only red pixels remain → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">HSV</span><span class="ta">→</span><span class="tn" style="--c:#E91E63">InRange<small>red</small></span><span class="ta">→</span><span class="tn" style="--c:#3F51B5">AND</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div>
                        <div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read(original)</span><span class="ta">↗</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/22_color_extraction.json</code></div>
                    </div>

                    <!-- Example 53: Video Edge Export -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 53: 비디오 에지 출력</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Apply Canny edge detection to all video frames and export as new MP4.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Video Read</em>(loop) → <em>Gray</em> → <em>Canny</em>(100,200) → <em>Image Write</em>(videoOutput=true, mp4v, 30fps).</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#FF5722">Video<small>loop</small></span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#F44336">Canny</span><span class="ta">→</span><span class="tn" style="--c:#8BC34A">Write<small>.mp4</small></span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/23_video_edge_output.json</code></div>
                    </div>

                    <!-- Example 54: ROI Focus -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 54: ROI 영역 집중 처리</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Crop a region of interest and apply different effects for comparison.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>Crop</em>(x=100,y=100,200×200) → branch: <em>Gaussian</em>(k=11) + <em>Sharpen</em>(2.0) → 2 × <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Crop<small>ROI</small></span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Blur / Sharpen</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">2×Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/24_roi_focus.json</code></div>
                    </div>

                    <!-- Example 55: Rotation Gallery -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 55: 이미지 회전 갤러리</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Create a gallery of rotated images at different angles.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → branch to 3 <em>Rotate</em>(45° / 90° / 180°) → 3 × <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#00BCD4">Rotate<small>45/90/180</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">3×Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/25_image_rotation_gallery.json</code></div>
                    </div>

                    <!-- Example 56: Threshold Comparison -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 56: 임계값 방법 비교</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Compare Binary (fixed), Otsu (auto), and Adaptive (local) thresholding methods.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>Gray</em> → branch: <em>Threshold</em>(127) / <em>Otsu</em> / <em>Adaptive</em>(Gaussian, block=11) → 3 × <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#795548">Binary / Otsu / Adaptive</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">3×Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/26_threshold_comparison.json</code></div>
                    </div>

                    <!-- Example 57: Contour Analysis -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 57: 컨투어 분석 종합</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Compare Draw Contours, Bounding Rect, and Area Filter on the same binary image.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>Gray</em> → <em>Otsu</em> → branch: <em>Draw Contours</em>(green) / <em>Bounding Rect</em>(red) / <em>Contour Area</em>(blue, min=500) → 3 × <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#795548">Otsu</span><span class="ta">→</span><span class="tn" style="--c:#009688">Contours / BBox / Area</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">3×Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/27_contour_analysis.json</code></div>
                    </div>

                    <!-- Example 58: Emboss Effect -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 58: 엠보싱 효과</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Apply emboss convolution kernel for a 3D relief effect.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → <em>Gray</em> → <em>Filter2D</em>(preset=emboss) → <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#9C27B0">Gray</span><span class="ta">→</span><span class="tn" style="--c:#FF9800">Filter2D<small>emboss</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/28_emboss_effect.json</code></div>
                    </div>

                    <!-- Example 59: Feature Detection Compare -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 59: 특징점 검출 비교</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Compare Harris, Shi-Tomasi, ORB, and FAST feature detectors.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><p><em>Read</em> → branch to 4 detectors: <em>Harris</em> / <em>Good Features</em> / <em>ORB</em> / <em>FAST</em> → 4 × <em>Show</em>.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#CDDC39">Harris / ShiTomasi / ORB / FAST</span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">4×Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/29_feature_detection_compare.json</code></div>
                    </div>

                    <!-- Example 60: Python Script Pencil Sketch -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Example 60: Python 스크립트 연필 스케치 ★★★★</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Create pencil sketch effect using custom Python code in Python Script node.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 1</div><div class="tutorial-step-body"><strong>Add Python Script</strong><p><em>Read</em> → <em>Python Script</em> with code:</p><pre style="background:#1e1e2e;color:#cdd6f4;padding:8px;border-radius:4px;font-size:11px;overflow-x:auto;">gray = cv2.cvtColor(img_input, cv2.COLOR_BGR2GRAY)
inv = 255 - gray
blur = cv2.GaussianBlur(inv, (21,21), 0)
sketch = cv2.divide(gray, 255-blur, scale=256)
img_output = cv2.cvtColor(sketch, cv2.COLOR_GRAY2BGR)</pre></div></div>
                            <div class="tutorial-step"><div class="tutorial-step-num">Step 2</div><div class="tutorial-step-body"><p>Connect → <em>Show</em>. Change GaussianBlur kernel size to adjust line thickness.</p></div></div>
                        </div>
                        <div class="tut-diagram"><div class="tut-flow"><span class="tn" style="--c:#4CAF50">Read</span><span class="ta">→</span><span class="tn" style="--c:#FFC107">Python Script<small>Pencil</small></span><span class="ta">→</span><span class="tn" style="--c:#4CAF50">Show</span></div></div>
                        <div class="tutorial-extra"><strong>Load:</strong> <code>examples/30_custom_filter.json</code> — Modify the kernel size (21,21) to change sketch style.</div>
                    </div>

                    <!-- ═══════════════════════════════════════════════ -->
                    <!-- NEW FEATURE TUTORIALS (61-64) -->
                    <!-- ═══════════════════════════════════════════════ -->
                    <h3 style="margin-top:32px; border-top:2px solid #FF9800; padding-top:16px;">&#128296; New Feature Tutorials</h3>
                    <p style="color:#a6adc8; margin-bottom:16px;">Latest features: Paste Image, Val Coords, Size Mismatch, Project Save/Load with images.</p>

                    <!-- Tutorial 61: Paste Image -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 61: Paste Image &mdash; 이미지 오버레이</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> Crop으로 추출한 이미지를 다른 이미지 위에 지정 좌표에 덮어씌우기.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>Base + Overlay 이미지 로드</strong>
                                    <p>두 개의 <em>Image Read</em>를 추가합니다. 하나는 배경 이미지, 다른 하나는 오버레이할 작은 이미지를 로드합니다.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>Paste Image 노드 연결</strong>
                                    <p><em>Paste Image</em> 노드를 추가합니다. 배경 이미지를 <code>image</code> 포트에, 오버레이 이미지를 <code>overlay</code> 포트에 연결합니다. <code>x</code>, <code>y</code> 좌표를 설정합니다.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>모드 선택 및 실행</strong>
                                    <p>Mode를 선택합니다: <code>overwrite</code> (완전 덮어쓰기), <code>blend</code> (투명도 합성, Opacity 조절), <code>alpha_channel</code> (PNG 알파 채널 사용). Execute 실행.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read<small>base</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#00BCD4">Paste Image<small>x,y</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read<small>overlay</small></span>
                                <span class="ta">↗</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>활용:</strong> Crop으로 추출한 영역을 다른 이미지에 합성하거나, 로고 워터마크를 붙일 때 유용합니다. Blend 모드에서 Opacity를 0.5로 설정하면 반투명 합성이 됩니다.
                        </div>
                    </div>

                    <!-- Tutorial 62: Val Coords + Image Extract -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 62: Val Coords &mdash; 수동 좌표 입력으로 이미지 영역 추출</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> 직접 좌표를 입력하여 Image Extract로 원하는 영역을 추출하기.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>이미지 로드 + Val Coords</strong>
                                    <p><em>Image Read</em>로 이미지를 로드합니다. <em>Val Coords</em> 노드를 추가합니다.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>좌표 입력</strong>
                                    <p>Single 모드: x1, y1, x2, y2 값을 직접 입력합니다 (예: 50, 50, 200, 200).<br>
                                    Multi 모드: 텍스트 영역에 여러 좌표를 입력합니다 (한 줄에 <code>x1,y1,x2,y2</code>).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Image Extract에 연결</strong>
                                    <p><em>Image Extract</em> 노드를 추가합니다. Image Read → <code>image</code> 포트, Val Coords → <code>coords</code> 포트로 연결합니다.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Image Read</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#FF5722">Image Extract</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                            <div class="tut-flow">
                                <span class="tn" style="--c:#78909C">Val Coords<small>x1,y1,x2,y2</small></span>
                                <span class="ta">↗</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>참고:</strong> coords 출력 포트는 Haar Cascade, Bounding Rect, Template Match에서도 제공됩니다. 자동 검출 결과를 Image Extract에 바로 연결할 수 있습니다.
                        </div>
                    </div>

                    <!-- Tutorial 63: Size Mismatch -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 63: Size Mismatch &mdash; 다른 크기 이미지 산술 연산</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> 크기가 다른 두 이미지의 산술 연산에서 Size Mismatch 옵션 활용하기.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>서로 다른 크기의 이미지 로드</strong>
                                    <p>두 개의 <em>Image Read</em>로 서로 다른 해상도의 이미지를 로드합니다 (예: 640&times;480 + 320&times;240).</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>산술 노드 연결 &amp; 에러 확인</strong>
                                    <p><em>Add Weighted</em>를 추가하고 두 이미지를 연결합니다. 기본 설정(Size Mismatch = error)에서는 크기 불일치 에러가 발생합니다.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>Size Mismatch 옵션 변경</strong>
                                    <p>Properties에서 <code>Size Mismatch</code>를 <code>resize_img2</code>로 변경하면 img2를 img1 크기로 리사이즈합니다. <code>resize_img1</code>은 반대입니다.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Read<small>640&times;480</small></span>
                                <span class="ta">↘</span>
                            </div>
                            <div class="tut-flow tut-indent">
                                <span class="tn" style="--c:#3F51B5">Add Weighted<small>sizeMismatch</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Image Show</span>
                            </div>
                            <div class="tut-flow">
                                <span class="tn" style="--c:#4CAF50">Read<small>320&times;240</small></span>
                                <span class="ta">↗</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>참고:</strong> 기본값은 <code>error</code>로, 실제 사이즈가 다를 때 자동 리사이즈를 하지 않습니다. 의도적으로 크기를 맞추려면 Resize 노드를 사용하거나, sizeMismatch 옵션을 변경하세요.
                        </div>
                    </div>

                    <!-- Tutorial 64: Save/Load Project -->
                    <div class="help-section tutorial-section">
                        <h4>&#127912; Tutorial 64: 프로젝트 저장/불러오기 (이미지 포함)</h4>
                        <p class="tutorial-goal"><strong>Goal:</strong> 이미지가 포함된 프로젝트를 ZIP으로 저장하고 복원하기.</p>
                        <div class="tutorial-steps">
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 1</div>
                                <div class="tutorial-step-body">
                                    <strong>파이프라인 구성</strong>
                                    <p>Image Read로 이미지를 로드하고, 필터/변환 노드를 연결하여 파이프라인을 구성합니다. Execute로 실행합니다.</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 2</div>
                                <div class="tutorial-step-body">
                                    <strong>프로젝트 저장 (Save)</strong>
                                    <p>툴바에서 <em>Save</em>를 클릭합니다. 이미지가 포함된 경우 자동으로 <code>.zip</code> 파일로 저장됩니다.</p>
                                    <p>ZIP 구조: <code>flow.json</code> (노드 그래프) + <code>images/</code> 폴더 (원본 이미지들)</p>
                                </div>
                            </div>
                            <div class="tutorial-step">
                                <div class="tutorial-step-num">Step 3</div>
                                <div class="tutorial-step-body">
                                    <strong>프로젝트 불러오기 (Load)</strong>
                                    <p><em>Load</em>를 클릭하고 저장한 <code>.zip</code> 파일을 선택합니다. 이미지가 자동 복원되고 프리뷰가 표시됩니다. 바로 Execute로 실행 가능합니다.</p>
                                </div>
                            </div>
                        </div>
                        <div class="tut-diagram">
                            <div class="tut-flow">
                                <span class="tn" style="--c:#FFC107">Save</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#9C27B0">project.zip<small>flow.json + images/</small></span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#FFC107">Load</span>
                                <span class="ta">→</span>
                                <span class="tn" style="--c:#4CAF50">Restored!</span>
                            </div>
                        </div>
                        <div class="tutorial-extra">
                            <strong>참고:</strong> 이미지가 없는 플로우는 기존처럼 <code>.json</code>으로 저장됩니다. Load는 <code>.json</code>과 <code>.zip</code> 모두 지원합니다.
                        </div>
                    </div>

                    <!-- Tips & Tricks -->
                    <div class="help-section tutorial-section">
                        <h4>&#128218; Tips &amp; Tricks</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name" style="width:200px;">Double-click node</td><td>File nodes (Image Read, Video Read): opens file dialog. Other nodes: refreshes preview immediately.</td></tr>
                            <tr><td class="help-node-name">Double-click port</td><td>Unconnected port auto-connects to the nearest compatible port on another node.</td></tr>
                            <tr><td class="help-node-name">Drag near another node</td><td>When a port comes within 1 grid distance of another port, they auto-connect.</td></tr>
                            <tr><td class="help-node-name">Property change</td><td>Preview auto-updates 0.5s after you change any property value.</td></tr>
                            <tr><td class="help-node-name">Ctrl + C / V</td><td>Copy nodes with all their parameter settings. Paste creates new instances.</td></tr>
                            <tr><td class="help-node-name">Ctrl + D</td><td>Duplicate selected nodes instantly.</td></tr>
                            <tr><td class="help-node-name">Rubber-band select</td><td>Drag on empty canvas to select multiple nodes at once.</td></tr>
                            <tr><td class="help-node-name">Middle-click drag</td><td>Pan the canvas. Or hold Alt + left-click drag.</td></tr>
                            <tr><td class="help-node-name">Scroll wheel</td><td>Zoom in/out on the canvas.</td></tr>
                            <tr><td class="help-node-name">Code Generation</td><td>Click <em>Code</em> to convert your entire node graph to a standalone Python script.</td></tr>
                            <tr><td class="help-node-name">Save / Load</td><td>Save as ZIP project (images included) or JSON. Load ZIP to restore images and previews automatically.</td></tr>
                        </table>
                    </div>
                </div>

                <!-- Keyboard & Mouse -->
                <div class="help-content" data-tab="shortcuts">
                    <h3>Keyboard &amp; Mouse Shortcuts</h3>
                    <div class="help-section">
                        <h4>Keyboard</h4>
                        <table class="help-table">
                            <tr><td class="help-key">Ctrl + Enter</td><td>Execute pipeline</td></tr>
                            <tr><td class="help-key">Delete</td><td>Delete selected node(s)</td></tr>
                            <tr><td class="help-key">Ctrl + C</td><td>Copy selected node(s) with parameters</td></tr>
                            <tr><td class="help-key">Ctrl + X</td><td>Cut selected node(s)</td></tr>
                            <tr><td class="help-key">Ctrl + V</td><td>Paste copied node(s)</td></tr>
                            <tr><td class="help-key">Ctrl + Z</td><td>Undo last action</td></tr>
                            <tr><td class="help-key">Ctrl + A</td><td>Select all nodes</td></tr>
                            <tr><td class="help-key">Ctrl + D</td><td>Duplicate selected node(s)</td></tr>
                            <tr><td class="help-key">ESC</td><td>Close image popup / help dialog</td></tr>
                        </table>
                    </div>
                    <div class="help-section">
                        <h4>Mouse</h4>
                        <table class="help-table">
                            <tr><td class="help-key">Left Click (node)</td><td>Select node, show properties</td></tr>
                            <tr><td class="help-key">Ctrl + Click (node)</td><td>Add/remove node from multi-selection</td></tr>
                            <tr><td class="help-key">Left Drag (empty)</td><td>Rubber-band select multiple nodes</td></tr>
                            <tr><td class="help-key">Left Drag (node)</td><td>Move node (or all selected nodes)</td></tr>
                            <tr><td class="help-key">Left Drag (port)</td><td>Create connection wire</td></tr>
                            <tr><td class="help-key">Left Click (wire)</td><td>Delete connection</td></tr>
                            <tr><td class="help-key">Left Click (empty)</td><td>Deselect all nodes</td></tr>
                            <tr><td class="help-key">Right Click (node)</td><td>Delete node</td></tr>
                            <tr><td class="help-key">Right Click (wire)</td><td>Delete connection</td></tr>
                            <tr><td class="help-key">Middle Drag / Alt+Drag</td><td>Pan canvas</td></tr>
                            <tr><td class="help-key">Scroll Wheel</td><td>Zoom in / out</td></tr>
                            <tr><td class="help-key">Double Click (preview)</td><td>Enlarge preview image</td></tr>
                        </table>
                    </div>
                    <div class="help-section">
                        <h4>Drag &amp; Drop</h4>
                        <table class="help-table">
                            <tr><td class="help-key">Palette &rarr; Canvas</td><td>Create a new node at drop position</td></tr>
                        </table>
                    </div>
                </div>

                <!-- Node Reference -->
                <div class="help-content" data-tab="nodes">
                    <h3>Available Nodes (83 types across 17 categories)</h3>

                    <div class="help-section">
                        <h4 class="help-cat-io">Input / Output (5)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Image Read</td><td>Load an image file (BMP, JPEG, PNG, TIFF). Use file upload or file path.</td></tr>
                            <tr><td class="help-node-name">Image Show</td><td>Display image in popup (imshow). Has output port for chaining.</td></tr>
                            <tr><td class="help-node-name">Image Write</td><td>Save image to file (PNG, JPEG, BMP, TIFF).</td></tr>
                            <tr><td class="help-node-name">Video Read</td><td>Read a frame from a video file at a given frame index.</td></tr>
                            <tr><td class="help-node-name">Camera Capture</td><td>Capture a frame from a webcam/camera device.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 class="help-cat-color">Color (5)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">CvtColor</td><td>Convert color space (BGR&harr;GRAY, BGR&harr;HSV, BGR&harr;RGB, etc.)</td></tr>
                            <tr><td class="help-node-name">InRange</td><td>Color range thresholding. Set lower/upper BGR bounds to create a binary mask.</td></tr>
                            <tr><td class="help-node-name">Histogram EQ</td><td>Histogram equalization or CLAHE.</td></tr>
                            <tr><td class="help-node-name">Split Channels</td><td>Split image into 3 individual channels (B, G, R).</td></tr>
                            <tr><td class="help-node-name">Merge Channels</td><td>Merge 3 individual channels into one color image.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 class="help-cat-filter">Filter / Blur (6)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Gaussian Blur</td><td>Smooth image with Gaussian kernel.</td></tr>
                            <tr><td class="help-node-name">Median Blur</td><td>Reduce salt-and-pepper noise.</td></tr>
                            <tr><td class="help-node-name">Bilateral Filter</td><td>Edge-preserving smoothing.</td></tr>
                            <tr><td class="help-node-name">Box Filter</td><td>Average blur with configurable kernel.</td></tr>
                            <tr><td class="help-node-name">Sharpen</td><td>Image sharpening via unsharp mask.</td></tr>
                            <tr><td class="help-node-name">Filter2D</td><td>Custom kernel convolution (sharpen, edge detect, emboss, etc.).</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 class="help-cat-edge">Edge Detection (4)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Canny</td><td>Canny edge detector with dual thresholds.</td></tr>
                            <tr><td class="help-node-name">Sobel</td><td>Sobel derivative operator (X/Y direction).</td></tr>
                            <tr><td class="help-node-name">Laplacian</td><td>Laplacian of Gaussian for edge detection.</td></tr>
                            <tr><td class="help-node-name">Scharr</td><td>Scharr derivative filter (more accurate than Sobel).</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 class="help-cat-thresh">Threshold (3)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Threshold</td><td>Global thresholding (Binary, Otsu, Triangle, etc.).</td></tr>
                            <tr><td class="help-node-name">Adaptive Threshold</td><td>Local adaptive thresholding.</td></tr>
                            <tr><td class="help-node-name">Otsu Threshold</td><td>Automatic optimal threshold determination.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 class="help-cat-morph">Morphology (4)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Morphology Ex</td><td>Open, Close, Gradient, TopHat, BlackHat. Supports custom kernel via grid editor.</td></tr>
                            <tr><td class="help-node-name">Dilate</td><td>Dilate operation (expand bright areas). Supports custom kernel shape.</td></tr>
                            <tr><td class="help-node-name">Erode</td><td>Erode operation (shrink bright areas). Supports custom kernel shape.</td></tr>
                            <tr><td class="help-node-name">Structuring Element</td><td>Create structuring element (Rect, Cross, Ellipse, Custom grid).</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 style="color:#009688 !important;">Contour (7)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Draw Contours</td><td>Find and draw contours on image.</td></tr>
                            <tr><td class="help-node-name">Bounding Rect</td><td>Draw bounding rectangles around contours. Outputs: image + coords [[x1,y1,x2,y2],...].</td></tr>
                            <tr><td class="help-node-name">Min Enclosing Circle</td><td>Draw minimum enclosing circles for contours.</td></tr>
                            <tr><td class="help-node-name">Convex Hull</td><td>Draw convex hulls around contours.</td></tr>
                            <tr><td class="help-node-name">Approx Poly</td><td>Approximate contours to polygons.</td></tr>
                            <tr><td class="help-node-name">Contour Area</td><td>Filter and draw contours by area range.</td></tr>
                            <tr><td class="help-node-name">Contour Properties</td><td>Show contour properties (area, perimeter, center).</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 class="help-cat-transform">Transform (8)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Resize</td><td>Resize by pixel or scale factor.</td></tr>
                            <tr><td class="help-node-name">Rotate</td><td>Rotate image by angle.</td></tr>
                            <tr><td class="help-node-name">Flip</td><td>Flip horizontal, vertical, or both.</td></tr>
                            <tr><td class="help-node-name">Crop</td><td>Crop region of interest (ROI).</td></tr>
                            <tr><td class="help-node-name">Paste Image</td><td>Overlay a smaller image onto a base image at (x, y). Modes: overwrite, blend (opacity), alpha channel.</td></tr>
                            <tr><td class="help-node-name">Warp Affine</td><td>Affine transformation (2x3 matrix).</td></tr>
                            <tr><td class="help-node-name">Warp Perspective</td><td>Perspective transformation (4-point mapping).</td></tr>
                            <tr><td class="help-node-name">Remap</td><td>Barrel/pincushion distortion correction.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 style="color:#673AB7 !important;">Histogram (1)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Calc Histogram</td><td>Calculate and visualize image histogram.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 class="help-cat-feature">Feature Detection (7)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Find Contours</td><td>Detect contours and draw them.</td></tr>
                            <tr><td class="help-node-name">Hough Lines</td><td>Detect straight lines via Hough transform.</td></tr>
                            <tr><td class="help-node-name">Harris Corner</td><td>Harris corner detection.</td></tr>
                            <tr><td class="help-node-name">Good Features</td><td>Shi-Tomasi corner detection.</td></tr>
                            <tr><td class="help-node-name">ORB</td><td>ORB feature detection and description.</td></tr>
                            <tr><td class="help-node-name">FAST</td><td>FAST corner detection (high speed).</td></tr>
                            <tr><td class="help-node-name">Match Features</td><td>Match keypoints between two images.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 style="color:#E91E63 !important;">Drawing (6)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Draw Line</td><td>Draw a line on image.</td></tr>
                            <tr><td class="help-node-name">Draw Rectangle</td><td>Draw a rectangle on image.</td></tr>
                            <tr><td class="help-node-name">Draw Circle</td><td>Draw a circle on image.</td></tr>
                            <tr><td class="help-node-name">Draw Ellipse</td><td>Draw an ellipse on image.</td></tr>
                            <tr><td class="help-node-name">Draw Text</td><td>Draw text on image (cv2.putText).</td></tr>
                            <tr><td class="help-node-name">Draw Polylines</td><td>Draw polygon/polyline on image.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 class="help-cat-arith">Arithmetic (9)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Add</td><td>Add two images (cv2.add). Size Mismatch option: error / resize.</td></tr>
                            <tr><td class="help-node-name">Subtract</td><td>Subtract two images (cv2.subtract). Size Mismatch option.</td></tr>
                            <tr><td class="help-node-name">Multiply</td><td>Multiply two images with scale factor. Size Mismatch option.</td></tr>
                            <tr><td class="help-node-name">AbsDiff</td><td>Absolute difference of two images. Size Mismatch option.</td></tr>
                            <tr><td class="help-node-name">Add Weighted</td><td>Blend: alpha*img1 + beta*img2 + gamma. Size Mismatch option.</td></tr>
                            <tr><td class="help-node-name">Bitwise AND</td><td>Pixel-wise AND of two images. Size Mismatch option.</td></tr>
                            <tr><td class="help-node-name">Bitwise OR</td><td>Pixel-wise OR of two images. Size Mismatch option.</td></tr>
                            <tr><td class="help-node-name">Bitwise XOR</td><td>Pixel-wise XOR of two images. Size Mismatch option.</td></tr>
                            <tr><td class="help-node-name">Bitwise NOT</td><td>Invert all pixel values.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 style="color:#FF5722 !important;">Detection (4)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Haar Cascade</td><td>Object detection (face, eye, smile, etc.) using Haar cascades. Outputs: image + coords [[x1,y1,x2,y2],...].</td></tr>
                            <tr><td class="help-node-name">Hough Circles</td><td>Detect circles using Hough transform.</td></tr>
                            <tr><td class="help-node-name">Template Match</td><td>Find similar regions. Outputs: image (with rectangles) + matches (coordinate list [[x1,y1,x2,y2],...]).</td></tr>
                            <tr><td class="help-node-name">Image Extract</td><td>Extract a region from image using [x1,y1,x2,y2] coordinates. Connect from Template Match, Haar Cascade, Bounding Rect, or Val Coords.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 style="color:#795548 !important;">Segmentation (3)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Flood Fill</td><td>Region fill from seed point.</td></tr>
                            <tr><td class="help-node-name">GrabCut</td><td>Foreground/background separation.</td></tr>
                            <tr><td class="help-node-name">Watershed</td><td>Watershed segmentation algorithm.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 style="color:#78909C !important;">Value (8)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Integer</td><td>Output integer value.</td></tr>
                            <tr><td class="help-node-name">Float</td><td>Output floating-point value.</td></tr>
                            <tr><td class="help-node-name">Boolean</td><td>Output boolean value.</td></tr>
                            <tr><td class="help-node-name">Point</td><td>Output Point (x, y) value.</td></tr>
                            <tr><td class="help-node-name">Scalar</td><td>Output Scalar (v0, v1, v2, v3) value.</td></tr>
                            <tr><td class="help-node-name">Math Operation</td><td>Basic math on two inputs (add, subtract, multiply, etc.).</td></tr>
                            <tr><td class="help-node-name">Val Coords</td><td>Manual coordinate input for Image Extract. Single (x1,y1,x2,y2) or multi-line mode.</td></tr>
                            <tr><td class="help-node-name">List Index/Slice</td><td>Select an element (index) or sub-list (slice) from a list. Connect from Template Match matches port, etc.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 style="color:#26A69A !important;">Control Flow (4)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">If</td><td>Conditional branching: routes image to true/false port.</td></tr>
                            <tr><td class="help-node-name">For Loop</td><td>Applies an operation N times iteratively.</td></tr>
                            <tr><td class="help-node-name">While Loop</td><td>Repeats operation while condition holds.</td></tr>
                            <tr><td class="help-node-name">Switch-Case</td><td>Routes image to case 0/1/2 based on condition.</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4 class="help-cat-script">Script (1)</h4>
                        <table class="help-table">
                            <tr><td class="help-node-name">Python Script</td><td>Custom Python/OpenCV code. Use img_input, img_output, cv2, np.</td></tr>
                        </table>
                    </div>
                </div>

                <!-- Architecture -->
                <div class="help-content" data-tab="architecture">
                    <h3>Program Structure</h3>

                    <div class="help-section">
                        <h4>Overview</h4>
                        <div class="help-arch-diagram">
<pre>
 Browser (Frontend)              Server (Backend)
+---------------------+        +---------------------+
| index.html          |  HTTP  | app.py (Flask)      |
| style.css           | &lt;----&gt; | - /api/upload       |
| node-definitions.js |        | - /api/execute      |
| editor.js (Canvas)  |        | - /api/execute_single|
+---------------------+        | - /api/save_project |
                                | - /api/load_project |
                                | - /api/script/*     |
                                | OpenCV + NumPy      |
                                +---------------------+
</pre>
                        </div>
                    </div>

                    <div class="help-section">
                        <h4>File Structure</h4>
                        <div class="help-code">
NodeOpenCV/
  app.py                 # Flask backend, OpenCV processors
  requirements.txt       # Python dependencies
  templates/
    index.html           # Main page layout
  static/
    style.css            # Catppuccin dark theme styles
    editor.js            # Canvas-based node editor (IIFE)
    node-definitions.js  # NODE_DEFS - 83 node type configs
  sessions/              # Per-user session data (uploads, work, scripts)
  doc/                   # Generated textbook PDF</div>
                    </div>

                    <div class="help-section">
                        <h4>Frontend (editor.js)</h4>
                        <ul>
                            <li><strong>Canvas Rendering</strong>: Pure HTML5 Canvas API, no external libraries. Draws nodes, ports, wires, grid.</li>
                            <li><strong>State Management</strong>: Single <code>state</code> object tracks nodes, connections, selection, pan/zoom.</li>
                            <li><strong>Port System</strong>: Dynamic port positions based on node height. Input ports on left, output ports on right.</li>
                            <li><strong>Connection Wires</strong>: Bezier curves with source node's color.</li>
                            <li><strong>Hit Testing</strong>: Node/port/connection detection for mouse interaction.</li>
                            <li><strong>Drag &amp; Drop</strong>: HTML5 drag API from palette to canvas.</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4>Backend (app.py)</h4>
                        <ul>
                            <li><strong>Image Store</strong>: Server-side <code>image_store</code> dict (imageId &rarr; numpy array). Avoids sending base64 repeatedly.</li>
                            <li><strong>JPEG Preview</strong>: Images encoded as JPEG (quality 80) for fast transfer. Full PNG available via <code>/api/image/&lt;id&gt;</code>.</li>
                            <li><strong>Pipeline Execution</strong>: Topological sort (Kahn's algorithm) ensures correct dependency order.</li>
                            <li><strong>Single Node Preview</strong>: <code>/api/execute_single</code> traces ancestors and only executes needed nodes.</li>
                            <li><strong>Node Processors</strong>: <code>NODE_PROCESSORS</code> dict maps node types to processing functions.</li>
                            <li><strong>External Editor</strong>: Writes script to <code>scripts/</code> folder, opens VS Code or Notepad via subprocess.</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4>Node Definitions (node-definitions.js)</h4>
                        <ul>
                            <li><code>NODE_DEFS</code> object contains all 83 node type configurations.</li>
                            <li>Each node type defines: label, category, color, inputs[], outputs[], properties[], doc{}.</li>
                            <li>The <code>doc</code> object provides OpenCV function signature, description, and parameter details.</li>
                        </ul>
                    </div>

                    <div class="help-section">
                        <h4>Data Flow</h4>
                        <ol>
                            <li><strong>Upload</strong>: Image file &rarr; server stores as numpy array, returns imageId + JPEG preview.</li>
                            <li><strong>Execute</strong>: Frontend sends node graph (without base64). Backend sorts topologically, processes each node, returns previews.</li>
                            <li><strong>Preview</strong>: Single-node execution traces ancestor subgraph only.</li>
                        </ol>
                    </div>

                    <div class="help-section">
                        <h4>API Endpoints</h4>
                        <table class="help-table">
                            <tr><td class="help-key">GET /</td><td>Main page (index.html)</td></tr>
                            <tr><td class="help-key">POST /api/upload</td><td>Upload image file, returns imageId + preview</td></tr>
                            <tr><td class="help-key">POST /api/execute</td><td>Execute full pipeline, returns all node results</td></tr>
                            <tr><td class="help-key">POST /api/execute_single</td><td>Execute up to target node only</td></tr>
                            <tr><td class="help-key">POST /api/save_project</td><td>Save flow + images as ZIP (flow.json + images/ folder)</td></tr>
                            <tr><td class="help-key">POST /api/load_project</td><td>Load ZIP project, restore images to session, return previews</td></tr>
                            <tr><td class="help-key">GET /api/image/&lt;id&gt;</td><td>Download full-quality PNG image</td></tr>
                            <tr><td class="help-key">POST /api/script/open</td><td>Open script in VS Code or Notepad</td></tr>
                            <tr><td class="help-key">POST /api/script/read</td><td>Read edited script back from file</td></tr>
                        </table>
                    </div>

                    <div class="help-section">
                        <h4>Dependencies</h4>
                        <table class="help-table">
                            <tr><td class="help-key">Flask &gt;= 2.3</td><td>Web framework for backend API</td></tr>
                            <tr><td class="help-key">Flask-CORS &gt;= 4.0</td><td>Cross-origin resource sharing</td></tr>
                            <tr><td class="help-key">OpenCV &gt;= 4.8</td><td>Image processing library (cv2)</td></tr>
                            <tr><td class="help-key">NumPy &gt;= 1.24</td><td>Array computation (numpy)</td></tr>
                        </table>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <!-- Status Bar -->
    <div id="status-bar">
        <span id="status-text">Ready</span>
        <div id="video-progress" style="display:none">
            <div id="video-progress-bar"></div>
            <span id="video-progress-text">0 / 0 frames</span>
        </div>
        <span id="node-count">Nodes: 0 | Connections: 0</span>
    </div>

    <!-- Code Editor Modal -->
    <div id="code-editor-modal" style="display:none">
        <div class="code-editor-overlay"></div>
        <div class="code-editor-container">
            <div class="code-editor-header">
                <span class="code-editor-title">Python Script Editor</span>
                <div class="code-editor-hint">img_input: Input image | img_output: Output image | cv2, np available</div>
                <div class="code-editor-actions">
                    <button id="code-editor-apply" class="prop-btn primary">Apply</button>
                    <button id="code-editor-cancel" class="prop-btn">Cancel</button>
                </div>
            </div>
            <div id="code-editor-area"></div>
        </div>
    </div>

    <!-- CodeMirror core + Python mode -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>
    <script src="/static/node-definitions.js"></script>
    <script src="/static/editor.js"></script>
</body>
</html>
